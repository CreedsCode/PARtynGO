"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4";
exports.ids = ["vendor-chunks/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/HereKeyStore.js":
/*!***************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/HereKeyStore.js ***!
  \***************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.HereKeyStore = void 0;\nconst key_pair_1 = __webpack_require__(/*! near-api-js/lib/utils/key_pair */ \"(ssr)/./node_modules/.pnpm/near-api-js@2.1.4/node_modules/near-api-js/lib/utils/key_pair.js\");\nconst JSONStorage_1 = __webpack_require__(/*! ./JSONStorage */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/JSONStorage.js\");\nclass HereKeyStore {\n    constructor(storage = new JSONStorage_1.StateStorage()) {\n        this.storage = storage;\n    }\n    setActiveAccount(network, id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const state = yield this.storage.getState(network);\n            state.activeAccount = id;\n            this.storage.setState(network, state);\n        });\n    }\n    setKey(networkId, accountId, keyPair) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const state = yield this.storage.getState(networkId);\n            state.accounts[accountId] = keyPair.toString();\n            this.storage.setState(networkId, state);\n        });\n    }\n    getAccounts(network) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const state = yield this.storage.getState(network);\n            return Object.keys(state.accounts);\n        });\n    }\n    getActiveAccount(network) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const state = yield this.storage.getState(network);\n            return state.activeAccount;\n        });\n    }\n    getKey(networkId, accountId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const state = yield this.storage.getState(networkId);\n            const privateKey = state.accounts[accountId];\n            if (privateKey == null)\n                throw Error(`For ${accountId} in ${networkId} network key not found`);\n            const keyPair = key_pair_1.KeyPair.fromString(privateKey);\n            return keyPair;\n        });\n    }\n    removeKey(networkId, accountId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let state = yield this.storage.getState(networkId);\n            if (state.activeAccount === accountId) {\n                state.activeAccount = null;\n            }\n            delete state.accounts[accountId];\n            this.storage.setState(networkId, state);\n        });\n    }\n    getNetworks() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let state = yield this.storage.getFullState();\n            return Object.keys(state.accounts);\n        });\n    }\n    clear() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.storage.clear();\n        });\n    }\n}\nexports.HereKeyStore = HereKeyStore;\n//# sourceMappingURL=HereKeyStore.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS41LjFfYm4uanNANS4yLjFfYm9yc2hAMC43LjBfbmVhci1hcGktanNAMi4xLjQvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL0hlcmVLZXlTdG9yZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CO0FBQ3BCLG1CQUFtQixtQkFBTyxDQUFDLG1JQUFnQztBQUMzRCxzQkFBc0IsbUJBQU8sQ0FBQyx1S0FBZTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsV0FBVyxLQUFLLFdBQVc7QUFDOUQ7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVsbG8tbmVhci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVyZS13YWxsZXQrY29yZUAxLjUuMV9ibi5qc0A1LjIuMV9ib3JzaEAwLjcuMF9uZWFyLWFwaS1qc0AyLjEuNC9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvSGVyZUtleVN0b3JlLmpzP2Y1NTUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSGVyZUtleVN0b3JlID0gdm9pZCAwO1xuY29uc3Qga2V5X3BhaXJfMSA9IHJlcXVpcmUoXCJuZWFyLWFwaS1qcy9saWIvdXRpbHMva2V5X3BhaXJcIik7XG5jb25zdCBKU09OU3RvcmFnZV8xID0gcmVxdWlyZShcIi4vSlNPTlN0b3JhZ2VcIik7XG5jbGFzcyBIZXJlS2V5U3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKHN0b3JhZ2UgPSBuZXcgSlNPTlN0b3JhZ2VfMS5TdGF0ZVN0b3JhZ2UoKSkge1xuICAgICAgICB0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlO1xuICAgIH1cbiAgICBzZXRBY3RpdmVBY2NvdW50KG5ldHdvcmssIGlkKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHlpZWxkIHRoaXMuc3RvcmFnZS5nZXRTdGF0ZShuZXR3b3JrKTtcbiAgICAgICAgICAgIHN0YXRlLmFjdGl2ZUFjY291bnQgPSBpZDtcbiAgICAgICAgICAgIHRoaXMuc3RvcmFnZS5zZXRTdGF0ZShuZXR3b3JrLCBzdGF0ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXRLZXkobmV0d29ya0lkLCBhY2NvdW50SWQsIGtleVBhaXIpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0geWllbGQgdGhpcy5zdG9yYWdlLmdldFN0YXRlKG5ldHdvcmtJZCk7XG4gICAgICAgICAgICBzdGF0ZS5hY2NvdW50c1thY2NvdW50SWRdID0ga2V5UGFpci50b1N0cmluZygpO1xuICAgICAgICAgICAgdGhpcy5zdG9yYWdlLnNldFN0YXRlKG5ldHdvcmtJZCwgc3RhdGUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0QWNjb3VudHMobmV0d29yaykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB5aWVsZCB0aGlzLnN0b3JhZ2UuZ2V0U3RhdGUobmV0d29yayk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoc3RhdGUuYWNjb3VudHMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0QWN0aXZlQWNjb3VudChuZXR3b3JrKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHlpZWxkIHRoaXMuc3RvcmFnZS5nZXRTdGF0ZShuZXR3b3JrKTtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS5hY3RpdmVBY2NvdW50O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0S2V5KG5ldHdvcmtJZCwgYWNjb3VudElkKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHlpZWxkIHRoaXMuc3RvcmFnZS5nZXRTdGF0ZShuZXR3b3JrSWQpO1xuICAgICAgICAgICAgY29uc3QgcHJpdmF0ZUtleSA9IHN0YXRlLmFjY291bnRzW2FjY291bnRJZF07XG4gICAgICAgICAgICBpZiAocHJpdmF0ZUtleSA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBGb3IgJHthY2NvdW50SWR9IGluICR7bmV0d29ya0lkfSBuZXR3b3JrIGtleSBub3QgZm91bmRgKTtcbiAgICAgICAgICAgIGNvbnN0IGtleVBhaXIgPSBrZXlfcGFpcl8xLktleVBhaXIuZnJvbVN0cmluZyhwcml2YXRlS2V5KTtcbiAgICAgICAgICAgIHJldHVybiBrZXlQYWlyO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVtb3ZlS2V5KG5ldHdvcmtJZCwgYWNjb3VudElkKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBsZXQgc3RhdGUgPSB5aWVsZCB0aGlzLnN0b3JhZ2UuZ2V0U3RhdGUobmV0d29ya0lkKTtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5hY3RpdmVBY2NvdW50ID09PSBhY2NvdW50SWQpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5hY3RpdmVBY2NvdW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbGV0ZSBzdGF0ZS5hY2NvdW50c1thY2NvdW50SWRdO1xuICAgICAgICAgICAgdGhpcy5zdG9yYWdlLnNldFN0YXRlKG5ldHdvcmtJZCwgc3RhdGUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0TmV0d29ya3MoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBsZXQgc3RhdGUgPSB5aWVsZCB0aGlzLnN0b3JhZ2UuZ2V0RnVsbFN0YXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoc3RhdGUuYWNjb3VudHMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB5aWVsZCB0aGlzLnN0b3JhZ2UuY2xlYXIoKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5IZXJlS2V5U3RvcmUgPSBIZXJlS2V5U3RvcmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IZXJlS2V5U3RvcmUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/HereKeyStore.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/JSONStorage.js":
/*!**************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/JSONStorage.js ***!
  \**************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.StateStorage = void 0;\nclass StateStorage {\n    constructor() {\n        this.dataKey = `herewallet:keystore`;\n    }\n    setState(network, state) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const data = yield this.getFullState();\n            data[network] = state;\n            window.localStorage.setItem(this.dataKey, JSON.stringify(data));\n        });\n    }\n    getFullState() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                return JSON.parse(window.localStorage.getItem(this.dataKey)) || {};\n            }\n            catch (_a) {\n                return {};\n            }\n        });\n    }\n    getState(network) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const json = yield this.getFullState();\n            return json[network] || { activeAccount: null, accounts: {} };\n        });\n    }\n    clear() {\n        return __awaiter(this, void 0, void 0, function* () {\n            window.localStorage.removeItem(this.dataKey);\n        });\n    }\n}\nexports.StateStorage = StateStorage;\n//# sourceMappingURL=JSONStorage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS41LjFfYm4uanNANS4yLjFfYm9yc2hAMC43LjBfbmVhci1hcGktanNAMi4xLjQvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL0pTT05TdG9yYWdlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL2hlbGxvLW5lYXIvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS41LjFfYm4uanNANS4yLjFfYm9yc2hAMC43LjBfbmVhci1hcGktanNAMi4xLjQvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL0pTT05TdG9yYWdlLmpzPzNjY2QiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU3RhdGVTdG9yYWdlID0gdm9pZCAwO1xuY2xhc3MgU3RhdGVTdG9yYWdlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5kYXRhS2V5ID0gYGhlcmV3YWxsZXQ6a2V5c3RvcmVgO1xuICAgIH1cbiAgICBzZXRTdGF0ZShuZXR3b3JrLCBzdGF0ZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHlpZWxkIHRoaXMuZ2V0RnVsbFN0YXRlKCk7XG4gICAgICAgICAgICBkYXRhW25ldHdvcmtdID0gc3RhdGU7XG4gICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5kYXRhS2V5LCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRGdWxsU3RhdGUoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmRhdGFLZXkpKSB8fCB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldFN0YXRlKG5ldHdvcmspIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGpzb24gPSB5aWVsZCB0aGlzLmdldEZ1bGxTdGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGpzb25bbmV0d29ya10gfHwgeyBhY3RpdmVBY2NvdW50OiBudWxsLCBhY2NvdW50czoge30gfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMuZGF0YUtleSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuU3RhdGVTdG9yYWdlID0gU3RhdGVTdG9yYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SlNPTlN0b3JhZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/JSONStorage.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/WidgetStrategy.js":
/*!*****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/WidgetStrategy.js ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WidgetStrategy = exports.defaultUrl = void 0;\nconst createIframe = (widget) => {\n    const connector = document.createElement(\"iframe\");\n    connector.src = widget;\n    connector.style.border = \"none\";\n    connector.style.zIndex = \"10000\";\n    connector.style.position = \"fixed\";\n    connector.style.display = \"none\";\n    connector.style.top = \"0\";\n    connector.style.left = \"0\";\n    connector.style.width = \"100%\";\n    connector.style.height = \"100%\";\n    document.body.appendChild(connector);\n    return connector;\n};\nexports.defaultUrl = \"https://my.herewallet.app/connector/index.html\";\nclass WidgetStrategy {\n    constructor(options = { widget: exports.defaultUrl, lazy: false }) {\n        this.options = {\n            lazy: typeof options === \"object\" ? options.lazy || false : false,\n            widget: typeof options === \"string\" ? options : options.widget || exports.defaultUrl,\n        };\n        if (!this.options.lazy) {\n            this.initIframe();\n        }\n    }\n    initIframe() {\n        if (WidgetStrategy.connector == null) {\n            WidgetStrategy.connector = createIframe(this.options.widget);\n            WidgetStrategy.connector.addEventListener(\"load\", () => {\n                WidgetStrategy.isLoaded = true;\n            });\n        }\n        return WidgetStrategy.connector;\n    }\n    onRequested(id, request, reject) {\n        const iframe = this.initIframe();\n        iframe.style.display = \"block\";\n        const loadHandler = () => {\n            var _a, _b, _c;\n            (_a = WidgetStrategy.connector) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"load\", loadHandler);\n            (_c = (_b = WidgetStrategy.connector) === null || _b === void 0 ? void 0 : _b.contentWindow) === null || _c === void 0 ? void 0 : _c.postMessage(JSON.stringify({ type: \"request\", payload: { id, request } }), new URL(this.options.widget).origin);\n        };\n        if (WidgetStrategy.isLoaded)\n            loadHandler();\n        else\n            iframe.addEventListener(\"load\", loadHandler);\n        this.messageHandler = (event) => {\n            try {\n                if (event.origin !== new URL(this.options.widget).origin)\n                    return;\n                if (JSON.parse(event.data).type === \"reject\")\n                    reject();\n            }\n            catch (_a) { }\n        };\n        window.addEventListener(\"message\", this.messageHandler);\n    }\n    postMessage(data) {\n        var _a;\n        const iframe = this.initIframe();\n        const args = JSON.stringify(data);\n        const origin = new URL(this.options.widget).origin;\n        (_a = iframe.contentWindow) === null || _a === void 0 ? void 0 : _a.postMessage(args, origin);\n    }\n    onApproving() {\n        this.postMessage({ type: \"approving\" });\n    }\n    onSuccess(request) {\n        console.log(request);\n        this.postMessage({ type: \"result\", payload: { request } });\n        this.close();\n    }\n    onFailed(request) {\n        this.postMessage({ type: \"result\", payload: { request } });\n        this.close();\n    }\n    close() {\n        if (this.messageHandler) {\n            window.removeEventListener(\"message\", this.messageHandler);\n            this.messageHandler = undefined;\n        }\n        if (WidgetStrategy.connector) {\n            WidgetStrategy.connector.style.display = \"none\";\n        }\n    }\n}\nexports.WidgetStrategy = WidgetStrategy;\nWidgetStrategy.isLoaded = false;\n//# sourceMappingURL=WidgetStrategy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS41LjFfYm4uanNANS4yLjFfYm9yc2hAMC43LjBfbmVhci1hcGktanNAMi4xLjQvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL1dpZGdldFN0cmF0ZWd5LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQixHQUFHLGtCQUFrQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0EsNEJBQTRCLHlDQUF5QztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4S0FBOEssNEJBQTRCLGVBQWU7QUFDek47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLG1CQUFtQjtBQUM5QztBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMkJBQTJCLFdBQVc7QUFDakU7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDJCQUEyQixXQUFXO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVsbG8tbmVhci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVyZS13YWxsZXQrY29yZUAxLjUuMV9ibi5qc0A1LjIuMV9ib3JzaEAwLjcuMF9uZWFyLWFwaS1qc0AyLjEuNC9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvV2lkZ2V0U3RyYXRlZ3kuanM/ZTM1YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuV2lkZ2V0U3RyYXRlZ3kgPSBleHBvcnRzLmRlZmF1bHRVcmwgPSB2b2lkIDA7XG5jb25zdCBjcmVhdGVJZnJhbWUgPSAod2lkZ2V0KSA9PiB7XG4gICAgY29uc3QgY29ubmVjdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtcbiAgICBjb25uZWN0b3Iuc3JjID0gd2lkZ2V0O1xuICAgIGNvbm5lY3Rvci5zdHlsZS5ib3JkZXIgPSBcIm5vbmVcIjtcbiAgICBjb25uZWN0b3Iuc3R5bGUuekluZGV4ID0gXCIxMDAwMFwiO1xuICAgIGNvbm5lY3Rvci5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcbiAgICBjb25uZWN0b3Iuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIGNvbm5lY3Rvci5zdHlsZS50b3AgPSBcIjBcIjtcbiAgICBjb25uZWN0b3Iuc3R5bGUubGVmdCA9IFwiMFwiO1xuICAgIGNvbm5lY3Rvci5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgIGNvbm5lY3Rvci5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbm5lY3Rvcik7XG4gICAgcmV0dXJuIGNvbm5lY3Rvcjtcbn07XG5leHBvcnRzLmRlZmF1bHRVcmwgPSBcImh0dHBzOi8vbXkuaGVyZXdhbGxldC5hcHAvY29ubmVjdG9yL2luZGV4Lmh0bWxcIjtcbmNsYXNzIFdpZGdldFN0cmF0ZWd5IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0geyB3aWRnZXQ6IGV4cG9ydHMuZGVmYXVsdFVybCwgbGF6eTogZmFsc2UgfSkge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAgICAgICBsYXp5OiB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMubGF6eSB8fCBmYWxzZSA6IGZhbHNlLFxuICAgICAgICAgICAgd2lkZ2V0OiB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIiA/IG9wdGlvbnMgOiBvcHRpb25zLndpZGdldCB8fCBleHBvcnRzLmRlZmF1bHRVcmwsXG4gICAgICAgIH07XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmxhenkpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdElmcmFtZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGluaXRJZnJhbWUoKSB7XG4gICAgICAgIGlmIChXaWRnZXRTdHJhdGVneS5jb25uZWN0b3IgPT0gbnVsbCkge1xuICAgICAgICAgICAgV2lkZ2V0U3RyYXRlZ3kuY29ubmVjdG9yID0gY3JlYXRlSWZyYW1lKHRoaXMub3B0aW9ucy53aWRnZXQpO1xuICAgICAgICAgICAgV2lkZ2V0U3RyYXRlZ3kuY29ubmVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBXaWRnZXRTdHJhdGVneS5pc0xvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gV2lkZ2V0U3RyYXRlZ3kuY29ubmVjdG9yO1xuICAgIH1cbiAgICBvblJlcXVlc3RlZChpZCwgcmVxdWVzdCwgcmVqZWN0KSB7XG4gICAgICAgIGNvbnN0IGlmcmFtZSA9IHRoaXMuaW5pdElmcmFtZSgpO1xuICAgICAgICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgY29uc3QgbG9hZEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgIChfYSA9IFdpZGdldFN0cmF0ZWd5LmNvbm5lY3RvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGxvYWRIYW5kbGVyKTtcbiAgICAgICAgICAgIChfYyA9IChfYiA9IFdpZGdldFN0cmF0ZWd5LmNvbm5lY3RvcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNvbnRlbnRXaW5kb3cpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh7IHR5cGU6IFwicmVxdWVzdFwiLCBwYXlsb2FkOiB7IGlkLCByZXF1ZXN0IH0gfSksIG5ldyBVUkwodGhpcy5vcHRpb25zLndpZGdldCkub3JpZ2luKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKFdpZGdldFN0cmF0ZWd5LmlzTG9hZGVkKVxuICAgICAgICAgICAgbG9hZEhhbmRsZXIoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgaWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGxvYWRIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlSGFuZGxlciA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQub3JpZ2luICE9PSBuZXcgVVJMKHRoaXMub3B0aW9ucy53aWRnZXQpLm9yaWdpbilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmIChKU09OLnBhcnNlKGV2ZW50LmRhdGEpLnR5cGUgPT09IFwicmVqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF9hKSB7IH1cbiAgICAgICAgfTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHRoaXMubWVzc2FnZUhhbmRsZXIpO1xuICAgIH1cbiAgICBwb3N0TWVzc2FnZShkYXRhKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgaWZyYW1lID0gdGhpcy5pbml0SWZyYW1lKCk7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICAgICAgY29uc3Qgb3JpZ2luID0gbmV3IFVSTCh0aGlzLm9wdGlvbnMud2lkZ2V0KS5vcmlnaW47XG4gICAgICAgIChfYSA9IGlmcmFtZS5jb250ZW50V2luZG93KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucG9zdE1lc3NhZ2UoYXJncywgb3JpZ2luKTtcbiAgICB9XG4gICAgb25BcHByb3ZpbmcoKSB7XG4gICAgICAgIHRoaXMucG9zdE1lc3NhZ2UoeyB0eXBlOiBcImFwcHJvdmluZ1wiIH0pO1xuICAgIH1cbiAgICBvblN1Y2Nlc3MocmVxdWVzdCkge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXF1ZXN0KTtcbiAgICAgICAgdGhpcy5wb3N0TWVzc2FnZSh7IHR5cGU6IFwicmVzdWx0XCIsIHBheWxvYWQ6IHsgcmVxdWVzdCB9IH0pO1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICAgIG9uRmFpbGVkKHJlcXVlc3QpIHtcbiAgICAgICAgdGhpcy5wb3N0TWVzc2FnZSh7IHR5cGU6IFwicmVzdWx0XCIsIHBheWxvYWQ6IHsgcmVxdWVzdCB9IH0pO1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5tZXNzYWdlSGFuZGxlcikge1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHRoaXMubWVzc2FnZUhhbmRsZXIpO1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlSGFuZGxlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoV2lkZ2V0U3RyYXRlZ3kuY29ubmVjdG9yKSB7XG4gICAgICAgICAgICBXaWRnZXRTdHJhdGVneS5jb25uZWN0b3Iuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5XaWRnZXRTdHJhdGVneSA9IFdpZGdldFN0cmF0ZWd5O1xuV2lkZ2V0U3RyYXRlZ3kuaXNMb2FkZWQgPSBmYWxzZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdpZGdldFN0cmF0ZWd5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/WidgetStrategy.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/WindowStrategy.js":
/*!*****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/WindowStrategy.js ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WindowStrategy = void 0;\nclass WindowStrategy {\n    constructor(endpoint = \"https://my.herewallet.app\") {\n        this.endpoint = endpoint;\n        this.signWindow = null;\n        this.onFailed = () => this.close();\n        this.onSuccess = () => this.close();\n    }\n    onInitialized() {\n        if (this.signWindow)\n            return;\n        const left = window.innerWidth / 2 - 420 / 2;\n        const top = window.innerHeight / 2 - 700 / 2;\n        this.signWindow = window.open(`${this.endpoint}/loading`, \"_blank\", `popup=1,width=420,height=700,top=${top},left=${left}`);\n    }\n    onRequested(id, request, reject) {\n        if (this.signWindow == null)\n            return;\n        this.unloadHandler = () => { var _a; return (_a = this.signWindow) === null || _a === void 0 ? void 0 : _a.close(); };\n        window.addEventListener(\"beforeunload\", this.unloadHandler);\n        this.signWindow.location = `${this.endpoint}/request/${id}`;\n        this.timerHandler = setInterval(() => {\n            var _a;\n            if ((_a = this.signWindow) === null || _a === void 0 ? void 0 : _a.closed)\n                reject(\"CLOSED\");\n        }, 1000);\n    }\n    close() {\n        var _a;\n        clearInterval(this.timerHandler);\n        (_a = this.signWindow) === null || _a === void 0 ? void 0 : _a.close();\n        this.signWindow = null;\n        if (this.unloadHandler) {\n            window.removeEventListener(\"beforeunload\", this.unloadHandler);\n        }\n    }\n}\nexports.WindowStrategy = WindowStrategy;\n//# sourceMappingURL=WindowStrategy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS41LjFfYm4uanNANS4yLjFfYm9yc2hAMC43LjBfbmVhci1hcGktanNAMi4xLjQvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL1dpbmRvd1N0cmF0ZWd5LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsY0FBYyx5REFBeUQsSUFBSSxRQUFRLEtBQUs7QUFDakk7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsUUFBUTtBQUM3QztBQUNBLHNDQUFzQyxjQUFjLFdBQVcsR0FBRztBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVsbG8tbmVhci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVyZS13YWxsZXQrY29yZUAxLjUuMV9ibi5qc0A1LjIuMV9ib3JzaEAwLjcuMF9uZWFyLWFwaS1qc0AyLjEuNC9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvV2luZG93U3RyYXRlZ3kuanM/MzEzMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuV2luZG93U3RyYXRlZ3kgPSB2b2lkIDA7XG5jbGFzcyBXaW5kb3dTdHJhdGVneSB7XG4gICAgY29uc3RydWN0b3IoZW5kcG9pbnQgPSBcImh0dHBzOi8vbXkuaGVyZXdhbGxldC5hcHBcIikge1xuICAgICAgICB0aGlzLmVuZHBvaW50ID0gZW5kcG9pbnQ7XG4gICAgICAgIHRoaXMuc2lnbldpbmRvdyA9IG51bGw7XG4gICAgICAgIHRoaXMub25GYWlsZWQgPSAoKSA9PiB0aGlzLmNsb3NlKCk7XG4gICAgICAgIHRoaXMub25TdWNjZXNzID0gKCkgPT4gdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgICBvbkluaXRpYWxpemVkKCkge1xuICAgICAgICBpZiAodGhpcy5zaWduV2luZG93KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBsZWZ0ID0gd2luZG93LmlubmVyV2lkdGggLyAyIC0gNDIwIC8gMjtcbiAgICAgICAgY29uc3QgdG9wID0gd2luZG93LmlubmVySGVpZ2h0IC8gMiAtIDcwMCAvIDI7XG4gICAgICAgIHRoaXMuc2lnbldpbmRvdyA9IHdpbmRvdy5vcGVuKGAke3RoaXMuZW5kcG9pbnR9L2xvYWRpbmdgLCBcIl9ibGFua1wiLCBgcG9wdXA9MSx3aWR0aD00MjAsaGVpZ2h0PTcwMCx0b3A9JHt0b3B9LGxlZnQ9JHtsZWZ0fWApO1xuICAgIH1cbiAgICBvblJlcXVlc3RlZChpZCwgcmVxdWVzdCwgcmVqZWN0KSB7XG4gICAgICAgIGlmICh0aGlzLnNpZ25XaW5kb3cgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy51bmxvYWRIYW5kbGVyID0gKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSB0aGlzLnNpZ25XaW5kb3cpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbG9zZSgpOyB9O1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCB0aGlzLnVubG9hZEhhbmRsZXIpO1xuICAgICAgICB0aGlzLnNpZ25XaW5kb3cubG9jYXRpb24gPSBgJHt0aGlzLmVuZHBvaW50fS9yZXF1ZXN0LyR7aWR9YDtcbiAgICAgICAgdGhpcy50aW1lckhhbmRsZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoKF9hID0gdGhpcy5zaWduV2luZG93KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xvc2VkKVxuICAgICAgICAgICAgICAgIHJlamVjdChcIkNMT1NFRFwiKTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lckhhbmRsZXIpO1xuICAgICAgICAoX2EgPSB0aGlzLnNpZ25XaW5kb3cpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbG9zZSgpO1xuICAgICAgICB0aGlzLnNpZ25XaW5kb3cgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy51bmxvYWRIYW5kbGVyKSB7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCB0aGlzLnVubG9hZEhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5XaW5kb3dTdHJhdGVneSA9IFdpbmRvd1N0cmF0ZWd5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V2luZG93U3RyYXRlZ3kuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/WindowStrategy.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/actions/index.js":
/*!****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/actions/index.js ***!
  \****************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createAction = exports.parseArgs = void 0;\nconst bn_js_1 = __webpack_require__(/*! bn.js */ \"(ssr)/./node_modules/.pnpm/bn.js@5.2.1/node_modules/bn.js/lib/bn.js\");\nconst near_api_js_1 = __webpack_require__(/*! near-api-js */ \"(ssr)/./node_modules/.pnpm/near-api-js@2.1.4/node_modules/near-api-js/lib/index.js\");\nconst getAccessKey = (permission) => {\n    if (permission === \"FullAccess\") {\n        return near_api_js_1.transactions.fullAccessKey();\n    }\n    const { receiverId, methodNames = [] } = permission;\n    const allowance = permission.allowance ? new bn_js_1.BN(permission.allowance) : undefined;\n    return near_api_js_1.transactions.functionCallAccessKey(receiverId, methodNames, allowance);\n};\nconst parseArgs = (data) => {\n    if (typeof data === \"string\")\n        return Buffer.from(data, \"base64\");\n    return data;\n};\nexports.parseArgs = parseArgs;\nconst createAction = (action) => {\n    switch (action.type) {\n        case \"CreateAccount\":\n            return near_api_js_1.transactions.createAccount();\n        case \"DeployContract\": {\n            const { code } = action.params;\n            return near_api_js_1.transactions.deployContract(code);\n        }\n        case \"FunctionCall\": {\n            const { methodName, args, gas, deposit } = action.params;\n            return near_api_js_1.transactions.functionCall(methodName, (0, exports.parseArgs)(args), new bn_js_1.BN(gas), new bn_js_1.BN(deposit));\n        }\n        case \"Transfer\": {\n            const { deposit } = action.params;\n            return near_api_js_1.transactions.transfer(new bn_js_1.BN(deposit));\n        }\n        case \"Stake\": {\n            const { stake, publicKey } = action.params;\n            return near_api_js_1.transactions.stake(new bn_js_1.BN(stake), near_api_js_1.utils.PublicKey.from(publicKey));\n        }\n        case \"AddKey\": {\n            const { publicKey, accessKey } = action.params;\n            return near_api_js_1.transactions.addKey(near_api_js_1.utils.PublicKey.from(publicKey), // TODO: Use accessKey.nonce? near-api-js seems to think 0 is fine?\n            getAccessKey(accessKey.permission));\n        }\n        case \"DeleteKey\": {\n            const { publicKey } = action.params;\n            return near_api_js_1.transactions.deleteKey(near_api_js_1.utils.PublicKey.from(publicKey));\n        }\n        case \"DeleteAccount\": {\n            const { beneficiaryId } = action.params;\n            return near_api_js_1.transactions.deleteAccount(beneficiaryId);\n        }\n        default:\n            throw new Error(\"Invalid action type\");\n    }\n};\nexports.createAction = createAction;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS41LjFfYm4uanNANS4yLjFfYm9yc2hAMC43LjBfbmVhci1hcGktanNAMi4xLjQvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL2FjdGlvbnMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CLEdBQUcsaUJBQWlCO0FBQ3hDLGdCQUFnQixtQkFBTyxDQUFDLGtGQUFPO0FBQy9CLHNCQUFzQixtQkFBTyxDQUFDLHVHQUFhO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwrQkFBK0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlDQUFpQztBQUNyRDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix1QkFBdUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsWUFBWTtBQUNoQztBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0JBQWdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL2hlbGxvLW5lYXIvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS41LjFfYm4uanNANS4yLjFfYm9yc2hAMC43LjBfbmVhci1hcGktanNAMi4xLjQvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL2FjdGlvbnMvaW5kZXguanM/OTBlMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlQWN0aW9uID0gZXhwb3J0cy5wYXJzZUFyZ3MgPSB2b2lkIDA7XG5jb25zdCBibl9qc18xID0gcmVxdWlyZShcImJuLmpzXCIpO1xuY29uc3QgbmVhcl9hcGlfanNfMSA9IHJlcXVpcmUoXCJuZWFyLWFwaS1qc1wiKTtcbmNvbnN0IGdldEFjY2Vzc0tleSA9IChwZXJtaXNzaW9uKSA9PiB7XG4gICAgaWYgKHBlcm1pc3Npb24gPT09IFwiRnVsbEFjY2Vzc1wiKSB7XG4gICAgICAgIHJldHVybiBuZWFyX2FwaV9qc18xLnRyYW5zYWN0aW9ucy5mdWxsQWNjZXNzS2V5KCk7XG4gICAgfVxuICAgIGNvbnN0IHsgcmVjZWl2ZXJJZCwgbWV0aG9kTmFtZXMgPSBbXSB9ID0gcGVybWlzc2lvbjtcbiAgICBjb25zdCBhbGxvd2FuY2UgPSBwZXJtaXNzaW9uLmFsbG93YW5jZSA/IG5ldyBibl9qc18xLkJOKHBlcm1pc3Npb24uYWxsb3dhbmNlKSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbmVhcl9hcGlfanNfMS50cmFuc2FjdGlvbnMuZnVuY3Rpb25DYWxsQWNjZXNzS2V5KHJlY2VpdmVySWQsIG1ldGhvZE5hbWVzLCBhbGxvd2FuY2UpO1xufTtcbmNvbnN0IHBhcnNlQXJncyA9IChkYXRhKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKVxuICAgICAgICByZXR1cm4gQnVmZmVyLmZyb20oZGF0YSwgXCJiYXNlNjRcIik7XG4gICAgcmV0dXJuIGRhdGE7XG59O1xuZXhwb3J0cy5wYXJzZUFyZ3MgPSBwYXJzZUFyZ3M7XG5jb25zdCBjcmVhdGVBY3Rpb24gPSAoYWN0aW9uKSA9PiB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlIFwiQ3JlYXRlQWNjb3VudFwiOlxuICAgICAgICAgICAgcmV0dXJuIG5lYXJfYXBpX2pzXzEudHJhbnNhY3Rpb25zLmNyZWF0ZUFjY291bnQoKTtcbiAgICAgICAgY2FzZSBcIkRlcGxveUNvbnRyYWN0XCI6IHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29kZSB9ID0gYWN0aW9uLnBhcmFtcztcbiAgICAgICAgICAgIHJldHVybiBuZWFyX2FwaV9qc18xLnRyYW5zYWN0aW9ucy5kZXBsb3lDb250cmFjdChjb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiRnVuY3Rpb25DYWxsXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IHsgbWV0aG9kTmFtZSwgYXJncywgZ2FzLCBkZXBvc2l0IH0gPSBhY3Rpb24ucGFyYW1zO1xuICAgICAgICAgICAgcmV0dXJuIG5lYXJfYXBpX2pzXzEudHJhbnNhY3Rpb25zLmZ1bmN0aW9uQ2FsbChtZXRob2ROYW1lLCAoMCwgZXhwb3J0cy5wYXJzZUFyZ3MpKGFyZ3MpLCBuZXcgYm5fanNfMS5CTihnYXMpLCBuZXcgYm5fanNfMS5CTihkZXBvc2l0KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIlRyYW5zZmVyXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGVwb3NpdCB9ID0gYWN0aW9uLnBhcmFtcztcbiAgICAgICAgICAgIHJldHVybiBuZWFyX2FwaV9qc18xLnRyYW5zYWN0aW9ucy50cmFuc2ZlcihuZXcgYm5fanNfMS5CTihkZXBvc2l0KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIlN0YWtlXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IHsgc3Rha2UsIHB1YmxpY0tleSB9ID0gYWN0aW9uLnBhcmFtcztcbiAgICAgICAgICAgIHJldHVybiBuZWFyX2FwaV9qc18xLnRyYW5zYWN0aW9ucy5zdGFrZShuZXcgYm5fanNfMS5CTihzdGFrZSksIG5lYXJfYXBpX2pzXzEudXRpbHMuUHVibGljS2V5LmZyb20ocHVibGljS2V5KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIkFkZEtleVwiOiB7XG4gICAgICAgICAgICBjb25zdCB7IHB1YmxpY0tleSwgYWNjZXNzS2V5IH0gPSBhY3Rpb24ucGFyYW1zO1xuICAgICAgICAgICAgcmV0dXJuIG5lYXJfYXBpX2pzXzEudHJhbnNhY3Rpb25zLmFkZEtleShuZWFyX2FwaV9qc18xLnV0aWxzLlB1YmxpY0tleS5mcm9tKHB1YmxpY0tleSksIC8vIFRPRE86IFVzZSBhY2Nlc3NLZXkubm9uY2U/IG5lYXItYXBpLWpzIHNlZW1zIHRvIHRoaW5rIDAgaXMgZmluZT9cbiAgICAgICAgICAgIGdldEFjY2Vzc0tleShhY2Nlc3NLZXkucGVybWlzc2lvbikpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJEZWxldGVLZXlcIjoge1xuICAgICAgICAgICAgY29uc3QgeyBwdWJsaWNLZXkgfSA9IGFjdGlvbi5wYXJhbXM7XG4gICAgICAgICAgICByZXR1cm4gbmVhcl9hcGlfanNfMS50cmFuc2FjdGlvbnMuZGVsZXRlS2V5KG5lYXJfYXBpX2pzXzEudXRpbHMuUHVibGljS2V5LmZyb20ocHVibGljS2V5KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIkRlbGV0ZUFjY291bnRcIjoge1xuICAgICAgICAgICAgY29uc3QgeyBiZW5lZmljaWFyeUlkIH0gPSBhY3Rpb24ucGFyYW1zO1xuICAgICAgICAgICAgcmV0dXJuIG5lYXJfYXBpX2pzXzEudHJhbnNhY3Rpb25zLmRlbGV0ZUFjY291bnQoYmVuZWZpY2lhcnlJZCk7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYWN0aW9uIHR5cGVcIik7XG4gICAgfVxufTtcbmV4cG9ydHMuY3JlYXRlQWN0aW9uID0gY3JlYXRlQWN0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/actions/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/actions/types.js":
/*!****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/actions/types.js ***!
  \****************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS41LjFfYm4uanNANS4yLjFfYm9yc2hAMC43LjBfbmVhci1hcGktanNAMi4xLjQvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL2FjdGlvbnMvdHlwZXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWxsby1uZWFyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BoZXJlLXdhbGxldCtjb3JlQDEuNS4xX2JuLmpzQDUuMi4xX2JvcnNoQDAuNy4wX25lYXItYXBpLWpzQDIuMS40L25vZGVfbW9kdWxlcy9AaGVyZS13YWxsZXQvY29yZS9idWlsZC9hY3Rpb25zL3R5cGVzLmpzPzBjNGQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/actions/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/here-provider/index.js":
/*!**********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/here-provider/index.js ***!
  \**********************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.proxyProvider = exports.getRequest = exports.proxyApi = exports.deleteRequest = exports.getResponse = exports.createRequest = void 0;\nconst utils_1 = __webpack_require__(/*! ../utils */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/utils.js\");\nconst provider_1 = __webpack_require__(/*! ../provider */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/provider.js\");\nconst methods_1 = __webpack_require__(/*! ./methods */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/here-provider/methods.js\");\nObject.defineProperty(exports, \"createRequest\", ({ enumerable: true, get: function () { return methods_1.createRequest; } }));\nObject.defineProperty(exports, \"getResponse\", ({ enumerable: true, get: function () { return methods_1.getResponse; } }));\nObject.defineProperty(exports, \"deleteRequest\", ({ enumerable: true, get: function () { return methods_1.deleteRequest; } }));\nObject.defineProperty(exports, \"proxyApi\", ({ enumerable: true, get: function () { return methods_1.proxyApi; } }));\nObject.defineProperty(exports, \"getRequest\", ({ enumerable: true, get: function () { return methods_1.getRequest; } }));\nconst proxyProvider = (conf) => __awaiter(void 0, void 0, void 0, function* () {\n    let { strategy, request, disableCleanupRequest, id, signal } = conf, delegate = __rest(conf, [\"strategy\", \"request\", \"disableCleanupRequest\", \"id\", \"signal\"]);\n    if (id != null)\n        request = yield (0, methods_1.getRequest)(id, signal);\n    else\n        id = yield (0, methods_1.createRequest)(request, signal);\n    return new Promise((resolve, reject) => {\n        var _a, _b;\n        const socketApi = methods_1.proxyApi.replace(\"https\", \"wss\");\n        let fallbackHttpTimer = null;\n        let socket = null;\n        const clear = () => __awaiter(void 0, void 0, void 0, function* () {\n            fallbackHttpTimer = -1;\n            clearInterval(fallbackHttpTimer);\n            socket === null || socket === void 0 ? void 0 : socket.close();\n            if (disableCleanupRequest !== true) {\n                yield (0, methods_1.deleteRequest)(id);\n            }\n        });\n        const processApprove = (data) => {\n            var _a, _b, _c, _d, _e, _f;\n            switch (data.status) {\n                case provider_1.HereProviderStatus.APPROVING:\n                    (_a = delegate.onApproving) === null || _a === void 0 ? void 0 : _a.call(delegate, data);\n                    (_b = strategy === null || strategy === void 0 ? void 0 : strategy.onApproving) === null || _b === void 0 ? void 0 : _b.call(strategy, data);\n                    return;\n                case provider_1.HereProviderStatus.FAILED:\n                    clear();\n                    reject(new provider_1.HereProviderError(data.payload));\n                    (_c = delegate.onFailed) === null || _c === void 0 ? void 0 : _c.call(delegate, data);\n                    (_d = strategy === null || strategy === void 0 ? void 0 : strategy.onFailed) === null || _d === void 0 ? void 0 : _d.call(strategy, data);\n                    return;\n                case provider_1.HereProviderStatus.SUCCESS:\n                    clear();\n                    resolve(data);\n                    (_e = delegate.onSuccess) === null || _e === void 0 ? void 0 : _e.call(delegate, data);\n                    (_f = strategy === null || strategy === void 0 ? void 0 : strategy.onSuccess) === null || _f === void 0 ? void 0 : _f.call(strategy, data);\n                    return;\n            }\n        };\n        const rejectAction = (payload) => {\n            processApprove({ status: provider_1.HereProviderStatus.FAILED, payload });\n        };\n        (_a = delegate.onRequested) === null || _a === void 0 ? void 0 : _a.call(delegate, id, request, rejectAction);\n        (_b = strategy === null || strategy === void 0 ? void 0 : strategy.onRequested) === null || _b === void 0 ? void 0 : _b.call(strategy, id, request, rejectAction);\n        signal === null || signal === void 0 ? void 0 : signal.addEventListener(\"abort\", () => rejectAction());\n        const setupTimer = () => {\n            if (fallbackHttpTimer === -1) {\n                return;\n            }\n            fallbackHttpTimer = setTimeout(() => __awaiter(void 0, void 0, void 0, function* () {\n                var _a, _b;\n                try {\n                    const data = yield (0, methods_1.getResponse)(id);\n                    if (fallbackHttpTimer === -1)\n                        return;\n                    processApprove(data);\n                    setupTimer();\n                }\n                catch (e) {\n                    const status = provider_1.HereProviderStatus.FAILED;\n                    const error = e instanceof Error ? e : undefined;\n                    const payload = error === null || error === void 0 ? void 0 : error.message;\n                    clear();\n                    reject(new provider_1.HereProviderError(payload, error));\n                    (_a = delegate.onFailed) === null || _a === void 0 ? void 0 : _a.call(delegate, { status, payload });\n                    (_b = strategy === null || strategy === void 0 ? void 0 : strategy.onFailed) === null || _b === void 0 ? void 0 : _b.call(strategy, { status, payload });\n                }\n            }), 3000);\n        };\n        setupTimer();\n        // Mobile flow doesn't support cross tabs socket background process\n        if ((0, utils_1.isMobile)() === false) {\n            const endpoint = `${socketApi}/ws/${id}`;\n            socket = new WebSocket(endpoint);\n            socket.onmessage = (e) => {\n                if (e.data == null)\n                    return;\n                try {\n                    const data = JSON.parse(e.data);\n                    processApprove(data);\n                }\n                catch (_a) {\n                    // nope\n                }\n            };\n        }\n    });\n});\nexports.proxyProvider = proxyProvider;\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS41LjFfYm4uanNANS4yLjFfYm9yc2hAMC43LjBfbmVhci1hcGktanNAMi4xLjQvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL2hlcmUtcHJvdmlkZXIvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxjQUFjO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QscUJBQXFCLEdBQUcsa0JBQWtCLEdBQUcsZ0JBQWdCLEdBQUcscUJBQXFCLEdBQUcsbUJBQW1CLEdBQUcscUJBQXFCO0FBQ25JLGdCQUFnQixtQkFBTyxDQUFDLDRKQUFVO0FBQ2xDLG1CQUFtQixtQkFBTyxDQUFDLGtLQUFhO0FBQ3hDLGtCQUFrQixtQkFBTyxDQUFDLDZLQUFXO0FBQ3JDLGlEQUFnRCxFQUFFLHFDQUFxQyxtQ0FBbUMsRUFBQztBQUMzSCwrQ0FBOEMsRUFBRSxxQ0FBcUMsaUNBQWlDLEVBQUM7QUFDdkgsaURBQWdELEVBQUUscUNBQXFDLG1DQUFtQyxFQUFDO0FBQzNILDRDQUEyQyxFQUFFLHFDQUFxQyw4QkFBOEIsRUFBQztBQUNqSCw4Q0FBNkMsRUFBRSxxQ0FBcUMsZ0NBQWdDLEVBQUM7QUFDckg7QUFDQSxVQUFVLHVEQUF1RDtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qix1REFBdUQ7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNHQUFzRyxpQkFBaUI7QUFDdkgsMEpBQTBKLGlCQUFpQjtBQUMzSztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxVQUFVLE1BQU0sR0FBRztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxDQUFDO0FBQ0QscUJBQXFCO0FBQ3JCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVsbG8tbmVhci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVyZS13YWxsZXQrY29yZUAxLjUuMV9ibi5qc0A1LjIuMV9ib3JzaEAwLjcuMF9uZWFyLWFwaS1qc0AyLjEuNC9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvaGVyZS1wcm92aWRlci9pbmRleC5qcz9lYTZhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19yZXN0ID0gKHRoaXMgJiYgdGhpcy5fX3Jlc3QpIHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnByb3h5UHJvdmlkZXIgPSBleHBvcnRzLmdldFJlcXVlc3QgPSBleHBvcnRzLnByb3h5QXBpID0gZXhwb3J0cy5kZWxldGVSZXF1ZXN0ID0gZXhwb3J0cy5nZXRSZXNwb25zZSA9IGV4cG9ydHMuY3JlYXRlUmVxdWVzdCA9IHZvaWQgMDtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vdXRpbHNcIik7XG5jb25zdCBwcm92aWRlcl8xID0gcmVxdWlyZShcIi4uL3Byb3ZpZGVyXCIpO1xuY29uc3QgbWV0aG9kc18xID0gcmVxdWlyZShcIi4vbWV0aG9kc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNyZWF0ZVJlcXVlc3RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1ldGhvZHNfMS5jcmVhdGVSZXF1ZXN0OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZ2V0UmVzcG9uc2VcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1ldGhvZHNfMS5nZXRSZXNwb25zZTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImRlbGV0ZVJlcXVlc3RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1ldGhvZHNfMS5kZWxldGVSZXF1ZXN0OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicHJveHlBcGlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1ldGhvZHNfMS5wcm94eUFwaTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImdldFJlcXVlc3RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1ldGhvZHNfMS5nZXRSZXF1ZXN0OyB9IH0pO1xuY29uc3QgcHJveHlQcm92aWRlciA9IChjb25mKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBsZXQgeyBzdHJhdGVneSwgcmVxdWVzdCwgZGlzYWJsZUNsZWFudXBSZXF1ZXN0LCBpZCwgc2lnbmFsIH0gPSBjb25mLCBkZWxlZ2F0ZSA9IF9fcmVzdChjb25mLCBbXCJzdHJhdGVneVwiLCBcInJlcXVlc3RcIiwgXCJkaXNhYmxlQ2xlYW51cFJlcXVlc3RcIiwgXCJpZFwiLCBcInNpZ25hbFwiXSk7XG4gICAgaWYgKGlkICE9IG51bGwpXG4gICAgICAgIHJlcXVlc3QgPSB5aWVsZCAoMCwgbWV0aG9kc18xLmdldFJlcXVlc3QpKGlkLCBzaWduYWwpO1xuICAgIGVsc2VcbiAgICAgICAgaWQgPSB5aWVsZCAoMCwgbWV0aG9kc18xLmNyZWF0ZVJlcXVlc3QpKHJlcXVlc3QsIHNpZ25hbCk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3Qgc29ja2V0QXBpID0gbWV0aG9kc18xLnByb3h5QXBpLnJlcGxhY2UoXCJodHRwc1wiLCBcIndzc1wiKTtcbiAgICAgICAgbGV0IGZhbGxiYWNrSHR0cFRpbWVyID0gbnVsbDtcbiAgICAgICAgbGV0IHNvY2tldCA9IG51bGw7XG4gICAgICAgIGNvbnN0IGNsZWFyID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBmYWxsYmFja0h0dHBUaW1lciA9IC0xO1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChmYWxsYmFja0h0dHBUaW1lcik7XG4gICAgICAgICAgICBzb2NrZXQgPT09IG51bGwgfHwgc29ja2V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgICAgIGlmIChkaXNhYmxlQ2xlYW51cFJlcXVlc3QgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCAoMCwgbWV0aG9kc18xLmRlbGV0ZVJlcXVlc3QpKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHByb2Nlc3NBcHByb3ZlID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICAgICAgc3dpdGNoIChkYXRhLnN0YXR1cykge1xuICAgICAgICAgICAgICAgIGNhc2UgcHJvdmlkZXJfMS5IZXJlUHJvdmlkZXJTdGF0dXMuQVBQUk9WSU5HOlxuICAgICAgICAgICAgICAgICAgICAoX2EgPSBkZWxlZ2F0ZS5vbkFwcHJvdmluZykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoZGVsZWdhdGUsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAoX2IgPSBzdHJhdGVneSA9PT0gbnVsbCB8fCBzdHJhdGVneSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RyYXRlZ3kub25BcHByb3ZpbmcpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKHN0cmF0ZWd5LCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNhc2UgcHJvdmlkZXJfMS5IZXJlUHJvdmlkZXJTdGF0dXMuRkFJTEVEOlxuICAgICAgICAgICAgICAgICAgICBjbGVhcigpO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IHByb3ZpZGVyXzEuSGVyZVByb3ZpZGVyRXJyb3IoZGF0YS5wYXlsb2FkKSk7XG4gICAgICAgICAgICAgICAgICAgIChfYyA9IGRlbGVnYXRlLm9uRmFpbGVkKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChkZWxlZ2F0ZSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIChfZCA9IHN0cmF0ZWd5ID09PSBudWxsIHx8IHN0cmF0ZWd5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdHJhdGVneS5vbkZhaWxlZCkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmNhbGwoc3RyYXRlZ3ksIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgY2FzZSBwcm92aWRlcl8xLkhlcmVQcm92aWRlclN0YXR1cy5TVUNDRVNTOlxuICAgICAgICAgICAgICAgICAgICBjbGVhcigpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAoX2UgPSBkZWxlZ2F0ZS5vblN1Y2Nlc3MpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5jYWxsKGRlbGVnYXRlLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgKF9mID0gc3RyYXRlZ3kgPT09IG51bGwgfHwgc3RyYXRlZ3kgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0cmF0ZWd5Lm9uU3VjY2VzcykgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLmNhbGwoc3RyYXRlZ3ksIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlamVjdEFjdGlvbiA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICBwcm9jZXNzQXBwcm92ZSh7IHN0YXR1czogcHJvdmlkZXJfMS5IZXJlUHJvdmlkZXJTdGF0dXMuRkFJTEVELCBwYXlsb2FkIH0pO1xuICAgICAgICB9O1xuICAgICAgICAoX2EgPSBkZWxlZ2F0ZS5vblJlcXVlc3RlZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoZGVsZWdhdGUsIGlkLCByZXF1ZXN0LCByZWplY3RBY3Rpb24pO1xuICAgICAgICAoX2IgPSBzdHJhdGVneSA9PT0gbnVsbCB8fCBzdHJhdGVneSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RyYXRlZ3kub25SZXF1ZXN0ZWQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKHN0cmF0ZWd5LCBpZCwgcmVxdWVzdCwgcmVqZWN0QWN0aW9uKTtcbiAgICAgICAgc2lnbmFsID09PSBudWxsIHx8IHNpZ25hbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCAoKSA9PiByZWplY3RBY3Rpb24oKSk7XG4gICAgICAgIGNvbnN0IHNldHVwVGltZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZmFsbGJhY2tIdHRwVGltZXIgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmFsbGJhY2tIdHRwVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHlpZWxkICgwLCBtZXRob2RzXzEuZ2V0UmVzcG9uc2UpKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZhbGxiYWNrSHR0cFRpbWVyID09PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0FwcHJvdmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHNldHVwVGltZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gcHJvdmlkZXJfMS5IZXJlUHJvdmlkZXJTdGF0dXMuRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IGUgaW5zdGFuY2VvZiBFcnJvciA/IGUgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBlcnJvciA9PT0gbnVsbCB8fCBlcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXJyb3IubWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBwcm92aWRlcl8xLkhlcmVQcm92aWRlckVycm9yKHBheWxvYWQsIGVycm9yKSk7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IGRlbGVnYXRlLm9uRmFpbGVkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChkZWxlZ2F0ZSwgeyBzdGF0dXMsIHBheWxvYWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIChfYiA9IHN0cmF0ZWd5ID09PSBudWxsIHx8IHN0cmF0ZWd5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdHJhdGVneS5vbkZhaWxlZCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoc3RyYXRlZ3ksIHsgc3RhdHVzLCBwYXlsb2FkIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLCAzMDAwKTtcbiAgICAgICAgfTtcbiAgICAgICAgc2V0dXBUaW1lcigpO1xuICAgICAgICAvLyBNb2JpbGUgZmxvdyBkb2Vzbid0IHN1cHBvcnQgY3Jvc3MgdGFicyBzb2NrZXQgYmFja2dyb3VuZCBwcm9jZXNzXG4gICAgICAgIGlmICgoMCwgdXRpbHNfMS5pc01vYmlsZSkoKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGVuZHBvaW50ID0gYCR7c29ja2V0QXBpfS93cy8ke2lkfWA7XG4gICAgICAgICAgICBzb2NrZXQgPSBuZXcgV2ViU29ja2V0KGVuZHBvaW50KTtcbiAgICAgICAgICAgIHNvY2tldC5vbm1lc3NhZ2UgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlLmRhdGEgPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGUuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NBcHByb3ZlKGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbm9wZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9KTtcbn0pO1xuZXhwb3J0cy5wcm94eVByb3ZpZGVyID0gcHJveHlQcm92aWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/here-provider/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/here-provider/methods.js":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/here-provider/methods.js ***!
  \************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createRequest = exports.deleteRequest = exports.getResponse = exports.getRequest = exports.proxyApi = void 0;\nconst sha1_1 = __importDefault(__webpack_require__(/*! sha1 */ \"(ssr)/./node_modules/.pnpm/sha1@1.1.1/node_modules/sha1/sha1.js\"));\nconst uuid4_1 = __importDefault(__webpack_require__(/*! uuid4 */ \"(ssr)/./node_modules/.pnpm/uuid4@2.0.3/node_modules/uuid4/index.js\"));\nconst serialize_1 = __webpack_require__(/*! near-api-js/lib/utils/serialize */ \"(ssr)/./node_modules/.pnpm/near-api-js@2.1.4/node_modules/near-api-js/lib/utils/serialize.js\");\nconst utils_1 = __webpack_require__(/*! ../utils */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/utils.js\");\nexports.proxyApi = \"https://h4n.app\";\nconst getRequest = (id, signal) => __awaiter(void 0, void 0, void 0, function* () {\n    const res = yield fetch(`${exports.proxyApi}/${id}/request`, {\n        signal,\n        headers: { \"content-type\": \"application/json\" },\n        method: \"GET\",\n    });\n    if (res.ok === false) {\n        throw Error(yield res.text());\n    }\n    const { data } = yield res.json();\n    return JSON.parse((0, serialize_1.base_decode)(data).toString(\"utf8\"));\n});\nexports.getRequest = getRequest;\nconst getResponse = (id) => __awaiter(void 0, void 0, void 0, function* () {\n    var _a, _b, _c, _d;\n    const res = yield fetch(`${exports.proxyApi}/${id}/response`, {\n        headers: { \"content-type\": \"application/json\" },\n        method: \"GET\",\n    });\n    if (res.ok === false) {\n        throw Error(yield res.text());\n    }\n    const { data } = yield res.json();\n    const result = (_a = JSON.parse(data)) !== null && _a !== void 0 ? _a : {};\n    return {\n        account_id: (_b = result.account_id) !== null && _b !== void 0 ? _b : \"\",\n        payload: (_c = result.payload) !== null && _c !== void 0 ? _c : \"\",\n        status: (_d = result.status) !== null && _d !== void 0 ? _d : -1,\n        topic: result.topic,\n    };\n});\nexports.getResponse = getResponse;\nconst deleteRequest = (id) => __awaiter(void 0, void 0, void 0, function* () {\n    const res = yield fetch(`${exports.proxyApi}/${id}`, {\n        headers: { \"content-type\": \"application/json\" },\n        method: \"DELETE\",\n    });\n    if (res.ok === false) {\n        throw Error(yield res.text());\n    }\n});\nexports.deleteRequest = deleteRequest;\nconst createRequest = (request, signal) => __awaiter(void 0, void 0, void 0, function* () {\n    const query = (0, serialize_1.base_encode)(JSON.stringify(Object.assign(Object.assign({}, request), { _id: (0, uuid4_1.default)() })));\n    const hashsum = (0, sha1_1.default)(query);\n    const id = Buffer.from(hashsum, \"hex\").toString(\"base64\");\n    const urlsafe = id.replaceAll(\"/\", \"_\").replaceAll(\"-\", \"+\").slice(0, 13);\n    const res = yield fetch(`${exports.proxyApi}/${urlsafe}/request`, {\n        method: \"POST\",\n        signal,\n        body: JSON.stringify({\n            topic_id: (0, utils_1.getDeviceId)(),\n            data: query,\n        }),\n        headers: {\n            \"content-type\": \"application/json\",\n        },\n    });\n    if (res.ok === false) {\n        throw Error(yield res.text());\n    }\n    return urlsafe;\n});\nexports.createRequest = createRequest;\n//# sourceMappingURL=methods.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS41LjFfYm4uanNANS4yLjFfYm9yc2hAMC43LjBfbmVhci1hcGktanNAMi4xLjQvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL2hlcmUtcHJvdmlkZXIvbWV0aG9kcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUIsR0FBRyxxQkFBcUIsR0FBRyxtQkFBbUIsR0FBRyxrQkFBa0IsR0FBRyxnQkFBZ0I7QUFDM0csK0JBQStCLG1CQUFPLENBQUMsNkVBQU07QUFDN0MsZ0NBQWdDLG1CQUFPLENBQUMsaUZBQU87QUFDL0Msb0JBQW9CLG1CQUFPLENBQUMscUlBQWlDO0FBQzdELGdCQUFnQixtQkFBTyxDQUFDLDRKQUFVO0FBQ2xDLGdCQUFnQjtBQUNoQjtBQUNBLCtCQUErQixpQkFBaUIsR0FBRyxHQUFHO0FBQ3REO0FBQ0EsbUJBQW1CLG9DQUFvQztBQUN2RDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQSxDQUFDO0FBQ0Qsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSwrQkFBK0IsaUJBQWlCLEdBQUcsR0FBRztBQUN0RCxtQkFBbUIsb0NBQW9DO0FBQ3ZEO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxtQkFBbUI7QUFDbkI7QUFDQSwrQkFBK0IsaUJBQWlCLEdBQUcsR0FBRztBQUN0RCxtQkFBbUIsb0NBQW9DO0FBQ3ZEO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxxQkFBcUI7QUFDckI7QUFDQSw0RkFBNEYsY0FBYyw2QkFBNkI7QUFDdkk7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGlCQUFpQixHQUFHLFFBQVE7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxxQkFBcUI7QUFDckIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWxsby1uZWFyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BoZXJlLXdhbGxldCtjb3JlQDEuNS4xX2JuLmpzQDUuMi4xX2JvcnNoQDAuNy4wX25lYXItYXBpLWpzQDIuMS40L25vZGVfbW9kdWxlcy9AaGVyZS13YWxsZXQvY29yZS9idWlsZC9oZXJlLXByb3ZpZGVyL21ldGhvZHMuanM/YmM4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jcmVhdGVSZXF1ZXN0ID0gZXhwb3J0cy5kZWxldGVSZXF1ZXN0ID0gZXhwb3J0cy5nZXRSZXNwb25zZSA9IGV4cG9ydHMuZ2V0UmVxdWVzdCA9IGV4cG9ydHMucHJveHlBcGkgPSB2b2lkIDA7XG5jb25zdCBzaGExXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcInNoYTFcIikpO1xuY29uc3QgdXVpZDRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwidXVpZDRcIikpO1xuY29uc3Qgc2VyaWFsaXplXzEgPSByZXF1aXJlKFwibmVhci1hcGktanMvbGliL3V0aWxzL3NlcmlhbGl6ZVwiKTtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vdXRpbHNcIik7XG5leHBvcnRzLnByb3h5QXBpID0gXCJodHRwczovL2g0bi5hcHBcIjtcbmNvbnN0IGdldFJlcXVlc3QgPSAoaWQsIHNpZ25hbCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgY29uc3QgcmVzID0geWllbGQgZmV0Y2goYCR7ZXhwb3J0cy5wcm94eUFwaX0vJHtpZH0vcmVxdWVzdGAsIHtcbiAgICAgICAgc2lnbmFsLFxuICAgICAgICBoZWFkZXJzOiB7IFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICB9KTtcbiAgICBpZiAocmVzLm9rID09PSBmYWxzZSkge1xuICAgICAgICB0aHJvdyBFcnJvcih5aWVsZCByZXMudGV4dCgpKTtcbiAgICB9XG4gICAgY29uc3QgeyBkYXRhIH0gPSB5aWVsZCByZXMuanNvbigpO1xuICAgIHJldHVybiBKU09OLnBhcnNlKCgwLCBzZXJpYWxpemVfMS5iYXNlX2RlY29kZSkoZGF0YSkudG9TdHJpbmcoXCJ1dGY4XCIpKTtcbn0pO1xuZXhwb3J0cy5nZXRSZXF1ZXN0ID0gZ2V0UmVxdWVzdDtcbmNvbnN0IGdldFJlc3BvbnNlID0gKGlkKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgY29uc3QgcmVzID0geWllbGQgZmV0Y2goYCR7ZXhwb3J0cy5wcm94eUFwaX0vJHtpZH0vcmVzcG9uc2VgLCB7XG4gICAgICAgIGhlYWRlcnM6IHsgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgIH0pO1xuICAgIGlmIChyZXMub2sgPT09IGZhbHNlKSB7XG4gICAgICAgIHRocm93IEVycm9yKHlpZWxkIHJlcy50ZXh0KCkpO1xuICAgIH1cbiAgICBjb25zdCB7IGRhdGEgfSA9IHlpZWxkIHJlcy5qc29uKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gKF9hID0gSlNPTi5wYXJzZShkYXRhKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge307XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWNjb3VudF9pZDogKF9iID0gcmVzdWx0LmFjY291bnRfaWQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFwiXCIsXG4gICAgICAgIHBheWxvYWQ6IChfYyA9IHJlc3VsdC5wYXlsb2FkKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBcIlwiLFxuICAgICAgICBzdGF0dXM6IChfZCA9IHJlc3VsdC5zdGF0dXMpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IC0xLFxuICAgICAgICB0b3BpYzogcmVzdWx0LnRvcGljLFxuICAgIH07XG59KTtcbmV4cG9ydHMuZ2V0UmVzcG9uc2UgPSBnZXRSZXNwb25zZTtcbmNvbnN0IGRlbGV0ZVJlcXVlc3QgPSAoaWQpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IHJlcyA9IHlpZWxkIGZldGNoKGAke2V4cG9ydHMucHJveHlBcGl9LyR7aWR9YCwge1xuICAgICAgICBoZWFkZXJzOiB7IFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICB9KTtcbiAgICBpZiAocmVzLm9rID09PSBmYWxzZSkge1xuICAgICAgICB0aHJvdyBFcnJvcih5aWVsZCByZXMudGV4dCgpKTtcbiAgICB9XG59KTtcbmV4cG9ydHMuZGVsZXRlUmVxdWVzdCA9IGRlbGV0ZVJlcXVlc3Q7XG5jb25zdCBjcmVhdGVSZXF1ZXN0ID0gKHJlcXVlc3QsIHNpZ25hbCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgY29uc3QgcXVlcnkgPSAoMCwgc2VyaWFsaXplXzEuYmFzZV9lbmNvZGUpKEpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVxdWVzdCksIHsgX2lkOiAoMCwgdXVpZDRfMS5kZWZhdWx0KSgpIH0pKSk7XG4gICAgY29uc3QgaGFzaHN1bSA9ICgwLCBzaGExXzEuZGVmYXVsdCkocXVlcnkpO1xuICAgIGNvbnN0IGlkID0gQnVmZmVyLmZyb20oaGFzaHN1bSwgXCJoZXhcIikudG9TdHJpbmcoXCJiYXNlNjRcIik7XG4gICAgY29uc3QgdXJsc2FmZSA9IGlkLnJlcGxhY2VBbGwoXCIvXCIsIFwiX1wiKS5yZXBsYWNlQWxsKFwiLVwiLCBcIitcIikuc2xpY2UoMCwgMTMpO1xuICAgIGNvbnN0IHJlcyA9IHlpZWxkIGZldGNoKGAke2V4cG9ydHMucHJveHlBcGl9LyR7dXJsc2FmZX0vcmVxdWVzdGAsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgc2lnbmFsLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICB0b3BpY19pZDogKDAsIHV0aWxzXzEuZ2V0RGV2aWNlSWQpKCksXG4gICAgICAgICAgICBkYXRhOiBxdWVyeSxcbiAgICAgICAgfSksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIGlmIChyZXMub2sgPT09IGZhbHNlKSB7XG4gICAgICAgIHRocm93IEVycm9yKHlpZWxkIHJlcy50ZXh0KCkpO1xuICAgIH1cbiAgICByZXR1cm4gdXJsc2FmZTtcbn0pO1xuZXhwb3J0cy5jcmVhdGVSZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1ldGhvZHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/here-provider/methods.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/index.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/index.js ***!
  \********************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.HereWallet = void 0;\nvar wallet_1 = __webpack_require__(/*! ./wallet */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/wallet.js\");\nObject.defineProperty(exports, \"HereWallet\", ({ enumerable: true, get: function () { return wallet_1.HereWallet; } }));\n__exportStar(__webpack_require__(/*! ./actions */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/actions/index.js\"), exports);\n__exportStar(__webpack_require__(/*! ./HereKeyStore */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/HereKeyStore.js\"), exports);\n__exportStar(__webpack_require__(/*! ./JSONStorage */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/JSONStorage.js\"), exports);\n__exportStar(__webpack_require__(/*! ./actions/types */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/actions/types.js\"), exports);\n__exportStar(__webpack_require__(/*! ./WidgetStrategy */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/WidgetStrategy.js\"), exports);\n__exportStar(__webpack_require__(/*! ./WindowStrategy */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/WindowStrategy.js\"), exports);\n__exportStar(__webpack_require__(/*! ./provider */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/provider.js\"), exports);\n__exportStar(__webpack_require__(/*! ./types */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/types.js\"), exports);\n__exportStar(__webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/utils.js\"), exports);\n__exportStar(__webpack_require__(/*! ./here-provider */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/here-provider/index.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS41LjFfYm4uanNANS4yLjFfYm9yc2hAMC43LjBfbmVhci1hcGktanNAMi4xLjQvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBLG1DQUFtQyxvQ0FBb0MsZ0JBQWdCO0FBQ3ZGLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxrQkFBa0I7QUFDbEIsZUFBZSxtQkFBTyxDQUFDLDZKQUFVO0FBQ2pDLDhDQUE2QyxFQUFFLHFDQUFxQywrQkFBK0IsRUFBQztBQUNwSCxhQUFhLG1CQUFPLENBQUMscUtBQVc7QUFDaEMsYUFBYSxtQkFBTyxDQUFDLHlLQUFnQjtBQUNyQyxhQUFhLG1CQUFPLENBQUMsdUtBQWU7QUFDcEMsYUFBYSxtQkFBTyxDQUFDLDJLQUFpQjtBQUN0QyxhQUFhLG1CQUFPLENBQUMsNktBQWtCO0FBQ3ZDLGFBQWEsbUJBQU8sQ0FBQyw2S0FBa0I7QUFDdkMsYUFBYSxtQkFBTyxDQUFDLGlLQUFZO0FBQ2pDLGFBQWEsbUJBQU8sQ0FBQywySkFBUztBQUM5QixhQUFhLG1CQUFPLENBQUMsMkpBQVM7QUFDOUIsYUFBYSxtQkFBTyxDQUFDLGlMQUFpQjtBQUN0QyIsInNvdXJjZXMiOlsid2VicGFjazovL2hlbGxvLW5lYXIvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS41LjFfYm4uanNANS4yLjFfYm9yc2hAMC43LjBfbmVhci1hcGktanNAMi4xLjQvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL2luZGV4LmpzPzJmNWIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSGVyZVdhbGxldCA9IHZvaWQgMDtcbnZhciB3YWxsZXRfMSA9IHJlcXVpcmUoXCIuL3dhbGxldFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkhlcmVXYWxsZXRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHdhbGxldF8xLkhlcmVXYWxsZXQ7IH0gfSk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vYWN0aW9uc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vSGVyZUtleVN0b3JlXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9KU09OU3RvcmFnZVwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vYWN0aW9ucy90eXBlc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vV2lkZ2V0U3RyYXRlZ3lcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL1dpbmRvd1N0cmF0ZWd5XCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9wcm92aWRlclwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdHlwZXNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3V0aWxzXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9oZXJlLXByb3ZpZGVyXCIpLCBleHBvcnRzKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/nep0314.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/nep0314.js ***!
  \**********************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.verifySignature = exports.authPayloadSchema = exports.AuthPayload = void 0;\nconst borsh = __importStar(__webpack_require__(/*! borsh */ \"(ssr)/./node_modules/.pnpm/borsh@0.7.0/node_modules/borsh/lib/index.js\"));\nconst js_sha256_1 = __importDefault(__webpack_require__(/*! js-sha256 */ \"(ssr)/./node_modules/.pnpm/js-sha256@0.9.0/node_modules/js-sha256/src/sha256.js\"));\nconst utils_1 = __webpack_require__(/*! near-api-js/lib/utils */ \"(ssr)/./node_modules/.pnpm/near-api-js@2.1.4/node_modules/near-api-js/lib/utils/index.js\");\nclass AuthPayload {\n    constructor({ message, nonce, recipient, callbackUrl }) {\n        this.tag = 2147484061;\n        this.message = message;\n        this.nonce = nonce;\n        this.recipient = recipient;\n        if (callbackUrl) {\n            this.callbackUrl = callbackUrl;\n        }\n    }\n}\nexports.AuthPayload = AuthPayload;\nexports.authPayloadSchema = new Map([\n    [\n        AuthPayload,\n        {\n            kind: \"struct\",\n            fields: [\n                [\"tag\", \"u32\"],\n                [\"message\", \"string\"],\n                [\"nonce\", [32]],\n                [\"recipient\", \"string\"],\n                [\"callbackUrl\", { kind: \"option\", type: \"string\" }],\n            ],\n        },\n    ],\n]);\nfunction verifySignature(request, result) {\n    // Reconstruct the payload that was **actually signed**\n    const payload = new AuthPayload(request);\n    const borsh_payload = borsh.serialize(exports.authPayloadSchema, payload);\n    const to_sign = Uint8Array.from(js_sha256_1.default.sha256.array(borsh_payload));\n    // Reconstruct the signature from the parameter given in the URL\n    let real_signature = new Uint8Array(Buffer.from(result.signature, \"base64\"));\n    // Use the public Key to verify that the private-counterpart signed the message\n    const myPK = utils_1.PublicKey.from(result.publicKey);\n    return myPK.verify(to_sign, real_signature);\n}\nexports.verifySignature = verifySignature;\n//# sourceMappingURL=nep0314.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS41LjFfYm4uanNANS4yLjFfYm9yc2hAMC43LjBfbmVhci1hcGktanNAMi4xLjQvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL25lcDAzMTQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0EsbUNBQW1DLG9DQUFvQyxnQkFBZ0I7QUFDdkYsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSwwQ0FBMEMsNEJBQTRCO0FBQ3RFLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHVCQUF1QixHQUFHLHlCQUF5QixHQUFHLG1CQUFtQjtBQUN6RSwyQkFBMkIsbUJBQU8sQ0FBQyxxRkFBTztBQUMxQyxvQ0FBb0MsbUJBQU8sQ0FBQyxrR0FBVztBQUN2RCxnQkFBZ0IsbUJBQU8sQ0FBQyx1SEFBdUI7QUFDL0M7QUFDQSxrQkFBa0Isd0NBQXdDO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQix5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGdDQUFnQztBQUNsRTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL2hlbGxvLW5lYXIvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS41LjFfYm4uanNANS4yLjFfYm9yc2hAMC43LjBfbmVhci1hcGktanNAMi4xLjQvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL25lcDAzMTQuanM/MDU4NSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy52ZXJpZnlTaWduYXR1cmUgPSBleHBvcnRzLmF1dGhQYXlsb2FkU2NoZW1hID0gZXhwb3J0cy5BdXRoUGF5bG9hZCA9IHZvaWQgMDtcbmNvbnN0IGJvcnNoID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCJib3JzaFwiKSk7XG5jb25zdCBqc19zaGEyNTZfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwianMtc2hhMjU2XCIpKTtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwibmVhci1hcGktanMvbGliL3V0aWxzXCIpO1xuY2xhc3MgQXV0aFBheWxvYWQge1xuICAgIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSwgbm9uY2UsIHJlY2lwaWVudCwgY2FsbGJhY2tVcmwgfSkge1xuICAgICAgICB0aGlzLnRhZyA9IDIxNDc0ODQwNjE7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIHRoaXMubm9uY2UgPSBub25jZTtcbiAgICAgICAgdGhpcy5yZWNpcGllbnQgPSByZWNpcGllbnQ7XG4gICAgICAgIGlmIChjYWxsYmFja1VybCkge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFja1VybCA9IGNhbGxiYWNrVXJsO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5BdXRoUGF5bG9hZCA9IEF1dGhQYXlsb2FkO1xuZXhwb3J0cy5hdXRoUGF5bG9hZFNjaGVtYSA9IG5ldyBNYXAoW1xuICAgIFtcbiAgICAgICAgQXV0aFBheWxvYWQsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGtpbmQ6IFwic3RydWN0XCIsXG4gICAgICAgICAgICBmaWVsZHM6IFtcbiAgICAgICAgICAgICAgICBbXCJ0YWdcIiwgXCJ1MzJcIl0sXG4gICAgICAgICAgICAgICAgW1wibWVzc2FnZVwiLCBcInN0cmluZ1wiXSxcbiAgICAgICAgICAgICAgICBbXCJub25jZVwiLCBbMzJdXSxcbiAgICAgICAgICAgICAgICBbXCJyZWNpcGllbnRcIiwgXCJzdHJpbmdcIl0sXG4gICAgICAgICAgICAgICAgW1wiY2FsbGJhY2tVcmxcIiwgeyBraW5kOiBcIm9wdGlvblwiLCB0eXBlOiBcInN0cmluZ1wiIH1dLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICBdLFxuXSk7XG5mdW5jdGlvbiB2ZXJpZnlTaWduYXR1cmUocmVxdWVzdCwgcmVzdWx0KSB7XG4gICAgLy8gUmVjb25zdHJ1Y3QgdGhlIHBheWxvYWQgdGhhdCB3YXMgKiphY3R1YWxseSBzaWduZWQqKlxuICAgIGNvbnN0IHBheWxvYWQgPSBuZXcgQXV0aFBheWxvYWQocmVxdWVzdCk7XG4gICAgY29uc3QgYm9yc2hfcGF5bG9hZCA9IGJvcnNoLnNlcmlhbGl6ZShleHBvcnRzLmF1dGhQYXlsb2FkU2NoZW1hLCBwYXlsb2FkKTtcbiAgICBjb25zdCB0b19zaWduID0gVWludDhBcnJheS5mcm9tKGpzX3NoYTI1Nl8xLmRlZmF1bHQuc2hhMjU2LmFycmF5KGJvcnNoX3BheWxvYWQpKTtcbiAgICAvLyBSZWNvbnN0cnVjdCB0aGUgc2lnbmF0dXJlIGZyb20gdGhlIHBhcmFtZXRlciBnaXZlbiBpbiB0aGUgVVJMXG4gICAgbGV0IHJlYWxfc2lnbmF0dXJlID0gbmV3IFVpbnQ4QXJyYXkoQnVmZmVyLmZyb20ocmVzdWx0LnNpZ25hdHVyZSwgXCJiYXNlNjRcIikpO1xuICAgIC8vIFVzZSB0aGUgcHVibGljIEtleSB0byB2ZXJpZnkgdGhhdCB0aGUgcHJpdmF0ZS1jb3VudGVycGFydCBzaWduZWQgdGhlIG1lc3NhZ2VcbiAgICBjb25zdCBteVBLID0gdXRpbHNfMS5QdWJsaWNLZXkuZnJvbShyZXN1bHQucHVibGljS2V5KTtcbiAgICByZXR1cm4gbXlQSy52ZXJpZnkodG9fc2lnbiwgcmVhbF9zaWduYXR1cmUpO1xufVxuZXhwb3J0cy52ZXJpZnlTaWduYXR1cmUgPSB2ZXJpZnlTaWduYXR1cmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uZXAwMzE0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/nep0314.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/provider.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/provider.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.HereProviderError = exports.HereProviderStatus = void 0;\nvar HereProviderStatus;\n(function (HereProviderStatus) {\n    HereProviderStatus[HereProviderStatus[\"APPROVING\"] = 1] = \"APPROVING\";\n    HereProviderStatus[HereProviderStatus[\"FAILED\"] = 2] = \"FAILED\";\n    HereProviderStatus[HereProviderStatus[\"SUCCESS\"] = 3] = \"SUCCESS\";\n})(HereProviderStatus = exports.HereProviderStatus || (exports.HereProviderStatus = {}));\nclass HereProviderError extends Error {\n    constructor(payload, parentError) {\n        super(payload !== null && payload !== void 0 ? payload : parentError === null || parentError === void 0 ? void 0 : parentError.message);\n        this.payload = payload;\n        this.parentError = parentError;\n    }\n}\nexports.HereProviderError = HereProviderError;\n//# sourceMappingURL=provider.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS41LjFfYm4uanNANS4yLjFfYm9yc2hAMC43LjBfbmVhci1hcGktanNAMi4xLjQvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL3Byb3ZpZGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHlCQUF5QixHQUFHLDBCQUEwQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxzREFBc0QsMEJBQTBCLEtBQUs7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWxsby1uZWFyLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BoZXJlLXdhbGxldCtjb3JlQDEuNS4xX2JuLmpzQDUuMi4xX2JvcnNoQDAuNy4wX25lYXItYXBpLWpzQDIuMS40L25vZGVfbW9kdWxlcy9AaGVyZS13YWxsZXQvY29yZS9idWlsZC9wcm92aWRlci5qcz84Y2ZjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5IZXJlUHJvdmlkZXJFcnJvciA9IGV4cG9ydHMuSGVyZVByb3ZpZGVyU3RhdHVzID0gdm9pZCAwO1xudmFyIEhlcmVQcm92aWRlclN0YXR1cztcbihmdW5jdGlvbiAoSGVyZVByb3ZpZGVyU3RhdHVzKSB7XG4gICAgSGVyZVByb3ZpZGVyU3RhdHVzW0hlcmVQcm92aWRlclN0YXR1c1tcIkFQUFJPVklOR1wiXSA9IDFdID0gXCJBUFBST1ZJTkdcIjtcbiAgICBIZXJlUHJvdmlkZXJTdGF0dXNbSGVyZVByb3ZpZGVyU3RhdHVzW1wiRkFJTEVEXCJdID0gMl0gPSBcIkZBSUxFRFwiO1xuICAgIEhlcmVQcm92aWRlclN0YXR1c1tIZXJlUHJvdmlkZXJTdGF0dXNbXCJTVUNDRVNTXCJdID0gM10gPSBcIlNVQ0NFU1NcIjtcbn0pKEhlcmVQcm92aWRlclN0YXR1cyA9IGV4cG9ydHMuSGVyZVByb3ZpZGVyU3RhdHVzIHx8IChleHBvcnRzLkhlcmVQcm92aWRlclN0YXR1cyA9IHt9KSk7XG5jbGFzcyBIZXJlUHJvdmlkZXJFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihwYXlsb2FkLCBwYXJlbnRFcnJvcikge1xuICAgICAgICBzdXBlcihwYXlsb2FkICE9PSBudWxsICYmIHBheWxvYWQgIT09IHZvaWQgMCA/IHBheWxvYWQgOiBwYXJlbnRFcnJvciA9PT0gbnVsbCB8fCBwYXJlbnRFcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50RXJyb3IubWVzc2FnZSk7XG4gICAgICAgIHRoaXMucGF5bG9hZCA9IHBheWxvYWQ7XG4gICAgICAgIHRoaXMucGFyZW50RXJyb3IgPSBwYXJlbnRFcnJvcjtcbiAgICB9XG59XG5leHBvcnRzLkhlcmVQcm92aWRlckVycm9yID0gSGVyZVByb3ZpZGVyRXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm92aWRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/provider.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/types.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/types.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS41LjFfYm4uanNANS4yLjFfYm9yc2hAMC43LjBfbmVhci1hcGktanNAMi4xLjQvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL3R5cGVzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVsbG8tbmVhci8uL25vZGVfbW9kdWxlcy8ucG5wbS9AaGVyZS13YWxsZXQrY29yZUAxLjUuMV9ibi5qc0A1LjIuMV9ib3JzaEAwLjcuMF9uZWFyLWFwaS1qc0AyLjEuNC9ub2RlX21vZHVsZXMvQGhlcmUtd2FsbGV0L2NvcmUvYnVpbGQvdHlwZXMuanM/N2RmMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/utils.js":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/utils.js ***!
  \********************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isValidAccessKey = exports.internalThrow = exports.getPublicKeys = exports.serializeActions = exports.isMobile = exports.getDeviceId = void 0;\nconst uuid4_1 = __importDefault(__webpack_require__(/*! uuid4 */ \"(ssr)/./node_modules/.pnpm/uuid4@2.0.3/node_modules/uuid4/index.js\"));\nconst provider_1 = __webpack_require__(/*! ./provider */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/provider.js\");\nconst getDeviceId = () => {\n    const topicId = window.localStorage.getItem(\"herewallet-topic\") || (0, uuid4_1.default)();\n    window.localStorage.setItem(\"herewallet-topic\", topicId);\n    return topicId;\n};\nexports.getDeviceId = getDeviceId;\nconst isMobile = () => {\n    return window.matchMedia(\"(any-pointer:coarse)\").matches;\n};\nexports.isMobile = isMobile;\nconst serializeActions = (actions) => {\n    return actions.map((act) => {\n        if (act.type !== \"FunctionCall\")\n            return act;\n        let { args, deposit, gas, methodName } = act.params;\n        if (ArrayBuffer.isView(args)) {\n            args = Buffer.from(args.buffer, args.byteOffset, args.byteLength);\n        }\n        if (args instanceof Buffer) {\n            args = args.toString(\"base64\");\n        }\n        return {\n            type: act.type,\n            params: { args, deposit, gas, methodName },\n        };\n    });\n};\nexports.serializeActions = serializeActions;\nconst getPublicKeys = (rpc, accountId) => __awaiter(void 0, void 0, void 0, function* () {\n    const res = yield fetch(rpc, {\n        method: \"POST\",\n        body: JSON.stringify({\n            jsonrpc: \"2.0\",\n            id: \"dontcare\",\n            method: \"query\",\n            params: {\n                request_type: \"view_access_key_list\",\n                finality: \"final\",\n                account_id: accountId,\n            },\n        }),\n        headers: {\n            \"content-type\": \"application/json\",\n        },\n    });\n    if (res.ok === false) {\n        return [];\n    }\n    const data = yield res.json();\n    return data.result.keys;\n});\nexports.getPublicKeys = getPublicKeys;\nconst internalThrow = (error, delegate) => {\n    var _a, _b, _c;\n    if (error instanceof provider_1.HereProviderError) {\n        throw error;\n    }\n    const result = {\n        payload: error instanceof Error ? error.message : \"UNKNOWN\",\n        status: provider_1.HereProviderStatus.FAILED,\n        account_id: \"\",\n    };\n    (_a = delegate.onFailed) === null || _a === void 0 ? void 0 : _a.call(delegate, result);\n    (_c = (_b = delegate === null || delegate === void 0 ? void 0 : delegate.strategy) === null || _b === void 0 ? void 0 : _b.onFailed) === null || _c === void 0 ? void 0 : _c.call(_b, result);\n    throw error;\n};\nexports.internalThrow = internalThrow;\nconst isValidAccessKey = (accountId, accessKey, call) => {\n    const { permission } = accessKey.access_key;\n    if (permission === \"FullAccess\") {\n        return true;\n    }\n    if (permission.FunctionCall) {\n        const { receiver_id: allowedReceiverId, method_names: allowedMethods } = permission.FunctionCall;\n        /********************************\n        Accept multisig access keys and let wallets attempt to signAndSendTransaction\n        If an access key has itself as receiverId and method permission add_request_and_confirm, then it is being used in a wallet with multisig contract: https://github.com/near/core-contracts/blob/671c05f09abecabe7a7e58efe942550a35fc3292/multisig/src/lib.rs#L149-L153\n        ********************************/\n        if (allowedReceiverId === accountId && allowedMethods.includes(\"add_request_and_confirm\")) {\n            return true;\n        }\n        if (allowedReceiverId === call.receiverId) {\n            if (call.actions.length !== 1)\n                return false;\n            return call.actions.every((action) => {\n                if (action.type !== \"FunctionCall\")\n                    return false;\n                return ((!action.params.deposit || action.params.deposit.toString() === \"0\") &&\n                    (allowedMethods.length === 0 || allowedMethods.includes(action.params.methodName)));\n            });\n        }\n    }\n    return false;\n};\nexports.isValidAccessKey = isValidAccessKey;\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS41LjFfYm4uanNANS4yLjFfYm9yc2hAMC43LjBfbmVhci1hcGktanNAMi4xLjQvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL3V0aWxzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHdCQUF3QixHQUFHLHFCQUFxQixHQUFHLHFCQUFxQixHQUFHLHdCQUF3QixHQUFHLGdCQUFnQixHQUFHLG1CQUFtQjtBQUM1SSxnQ0FBZ0MsbUJBQU8sQ0FBQyxpRkFBTztBQUMvQyxtQkFBbUIsbUJBQU8sQ0FBQyxpS0FBWTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsaUNBQWlDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsZ0NBQWdDO0FBQ3REO0FBQ0EsS0FBSztBQUNMO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxZQUFZLGFBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsK0RBQStEO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QiIsInNvdXJjZXMiOlsid2VicGFjazovL2hlbGxvLW5lYXIvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS41LjFfYm4uanNANS4yLjFfYm9yc2hAMC43LjBfbmVhci1hcGktanNAMi4xLjQvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL3V0aWxzLmpzPzA2NDUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNWYWxpZEFjY2Vzc0tleSA9IGV4cG9ydHMuaW50ZXJuYWxUaHJvdyA9IGV4cG9ydHMuZ2V0UHVibGljS2V5cyA9IGV4cG9ydHMuc2VyaWFsaXplQWN0aW9ucyA9IGV4cG9ydHMuaXNNb2JpbGUgPSBleHBvcnRzLmdldERldmljZUlkID0gdm9pZCAwO1xuY29uc3QgdXVpZDRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwidXVpZDRcIikpO1xuY29uc3QgcHJvdmlkZXJfMSA9IHJlcXVpcmUoXCIuL3Byb3ZpZGVyXCIpO1xuY29uc3QgZ2V0RGV2aWNlSWQgPSAoKSA9PiB7XG4gICAgY29uc3QgdG9waWNJZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImhlcmV3YWxsZXQtdG9waWNcIikgfHwgKDAsIHV1aWQ0XzEuZGVmYXVsdCkoKTtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJoZXJld2FsbGV0LXRvcGljXCIsIHRvcGljSWQpO1xuICAgIHJldHVybiB0b3BpY0lkO1xufTtcbmV4cG9ydHMuZ2V0RGV2aWNlSWQgPSBnZXREZXZpY2VJZDtcbmNvbnN0IGlzTW9iaWxlID0gKCkgPT4ge1xuICAgIHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYShcIihhbnktcG9pbnRlcjpjb2Fyc2UpXCIpLm1hdGNoZXM7XG59O1xuZXhwb3J0cy5pc01vYmlsZSA9IGlzTW9iaWxlO1xuY29uc3Qgc2VyaWFsaXplQWN0aW9ucyA9IChhY3Rpb25zKSA9PiB7XG4gICAgcmV0dXJuIGFjdGlvbnMubWFwKChhY3QpID0+IHtcbiAgICAgICAgaWYgKGFjdC50eXBlICE9PSBcIkZ1bmN0aW9uQ2FsbFwiKVxuICAgICAgICAgICAgcmV0dXJuIGFjdDtcbiAgICAgICAgbGV0IHsgYXJncywgZGVwb3NpdCwgZ2FzLCBtZXRob2ROYW1lIH0gPSBhY3QucGFyYW1zO1xuICAgICAgICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGFyZ3MpKSB7XG4gICAgICAgICAgICBhcmdzID0gQnVmZmVyLmZyb20oYXJncy5idWZmZXIsIGFyZ3MuYnl0ZU9mZnNldCwgYXJncy5ieXRlTGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJncyBpbnN0YW5jZW9mIEJ1ZmZlcikge1xuICAgICAgICAgICAgYXJncyA9IGFyZ3MudG9TdHJpbmcoXCJiYXNlNjRcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IGFjdC50eXBlLFxuICAgICAgICAgICAgcGFyYW1zOiB7IGFyZ3MsIGRlcG9zaXQsIGdhcywgbWV0aG9kTmFtZSB9LFxuICAgICAgICB9O1xuICAgIH0pO1xufTtcbmV4cG9ydHMuc2VyaWFsaXplQWN0aW9ucyA9IHNlcmlhbGl6ZUFjdGlvbnM7XG5jb25zdCBnZXRQdWJsaWNLZXlzID0gKHJwYywgYWNjb3VudElkKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCByZXMgPSB5aWVsZCBmZXRjaChycGMsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAganNvbnJwYzogXCIyLjBcIixcbiAgICAgICAgICAgIGlkOiBcImRvbnRjYXJlXCIsXG4gICAgICAgICAgICBtZXRob2Q6IFwicXVlcnlcIixcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIHJlcXVlc3RfdHlwZTogXCJ2aWV3X2FjY2Vzc19rZXlfbGlzdFwiLFxuICAgICAgICAgICAgICAgIGZpbmFsaXR5OiBcImZpbmFsXCIsXG4gICAgICAgICAgICAgICAgYWNjb3VudF9pZDogYWNjb3VudElkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIGlmIChyZXMub2sgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IHlpZWxkIHJlcy5qc29uKCk7XG4gICAgcmV0dXJuIGRhdGEucmVzdWx0LmtleXM7XG59KTtcbmV4cG9ydHMuZ2V0UHVibGljS2V5cyA9IGdldFB1YmxpY0tleXM7XG5jb25zdCBpbnRlcm5hbFRocm93ID0gKGVycm9yLCBkZWxlZ2F0ZSkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIHByb3ZpZGVyXzEuSGVyZVByb3ZpZGVyRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgcGF5bG9hZDogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVOS05PV05cIixcbiAgICAgICAgc3RhdHVzOiBwcm92aWRlcl8xLkhlcmVQcm92aWRlclN0YXR1cy5GQUlMRUQsXG4gICAgICAgIGFjY291bnRfaWQ6IFwiXCIsXG4gICAgfTtcbiAgICAoX2EgPSBkZWxlZ2F0ZS5vbkZhaWxlZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoZGVsZWdhdGUsIHJlc3VsdCk7XG4gICAgKF9jID0gKF9iID0gZGVsZWdhdGUgPT09IG51bGwgfHwgZGVsZWdhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlbGVnYXRlLnN0cmF0ZWd5KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iub25GYWlsZWQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKF9iLCByZXN1bHQpO1xuICAgIHRocm93IGVycm9yO1xufTtcbmV4cG9ydHMuaW50ZXJuYWxUaHJvdyA9IGludGVybmFsVGhyb3c7XG5jb25zdCBpc1ZhbGlkQWNjZXNzS2V5ID0gKGFjY291bnRJZCwgYWNjZXNzS2V5LCBjYWxsKSA9PiB7XG4gICAgY29uc3QgeyBwZXJtaXNzaW9uIH0gPSBhY2Nlc3NLZXkuYWNjZXNzX2tleTtcbiAgICBpZiAocGVybWlzc2lvbiA9PT0gXCJGdWxsQWNjZXNzXCIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChwZXJtaXNzaW9uLkZ1bmN0aW9uQ2FsbCkge1xuICAgICAgICBjb25zdCB7IHJlY2VpdmVyX2lkOiBhbGxvd2VkUmVjZWl2ZXJJZCwgbWV0aG9kX25hbWVzOiBhbGxvd2VkTWV0aG9kcyB9ID0gcGVybWlzc2lvbi5GdW5jdGlvbkNhbGw7XG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAgICBBY2NlcHQgbXVsdGlzaWcgYWNjZXNzIGtleXMgYW5kIGxldCB3YWxsZXRzIGF0dGVtcHQgdG8gc2lnbkFuZFNlbmRUcmFuc2FjdGlvblxuICAgICAgICBJZiBhbiBhY2Nlc3Mga2V5IGhhcyBpdHNlbGYgYXMgcmVjZWl2ZXJJZCBhbmQgbWV0aG9kIHBlcm1pc3Npb24gYWRkX3JlcXVlc3RfYW5kX2NvbmZpcm0sIHRoZW4gaXQgaXMgYmVpbmcgdXNlZCBpbiBhIHdhbGxldCB3aXRoIG11bHRpc2lnIGNvbnRyYWN0OiBodHRwczovL2dpdGh1Yi5jb20vbmVhci9jb3JlLWNvbnRyYWN0cy9ibG9iLzY3MWMwNWYwOWFiZWNhYmU3YTdlNThlZmU5NDI1NTBhMzVmYzMyOTIvbXVsdGlzaWcvc3JjL2xpYi5ycyNMMTQ5LUwxNTNcbiAgICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgICAgIGlmIChhbGxvd2VkUmVjZWl2ZXJJZCA9PT0gYWNjb3VudElkICYmIGFsbG93ZWRNZXRob2RzLmluY2x1ZGVzKFwiYWRkX3JlcXVlc3RfYW5kX2NvbmZpcm1cIikpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhbGxvd2VkUmVjZWl2ZXJJZCA9PT0gY2FsbC5yZWNlaXZlcklkKSB7XG4gICAgICAgICAgICBpZiAoY2FsbC5hY3Rpb25zLmxlbmd0aCAhPT0gMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gY2FsbC5hY3Rpb25zLmV2ZXJ5KChhY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLnR5cGUgIT09IFwiRnVuY3Rpb25DYWxsXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKCghYWN0aW9uLnBhcmFtcy5kZXBvc2l0IHx8IGFjdGlvbi5wYXJhbXMuZGVwb3NpdC50b1N0cmluZygpID09PSBcIjBcIikgJiZcbiAgICAgICAgICAgICAgICAgICAgKGFsbG93ZWRNZXRob2RzLmxlbmd0aCA9PT0gMCB8fCBhbGxvd2VkTWV0aG9kcy5pbmNsdWRlcyhhY3Rpb24ucGFyYW1zLm1ldGhvZE5hbWUpKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuZXhwb3J0cy5pc1ZhbGlkQWNjZXNzS2V5ID0gaXNWYWxpZEFjY2Vzc0tleTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/wallet.js":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/wallet.js ***!
  \*********************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.HereWallet = void 0;\nconst near_api_js_1 = __webpack_require__(/*! near-api-js */ \"(ssr)/./node_modules/.pnpm/near-api-js@2.1.4/node_modules/near-api-js/lib/index.js\");\nconst providers_1 = __webpack_require__(/*! near-api-js/lib/providers */ \"(ssr)/./node_modules/.pnpm/near-api-js@2.1.4/node_modules/near-api-js/lib/providers/index.js\");\nconst key_pair_1 = __webpack_require__(/*! near-api-js/lib/utils/key_pair */ \"(ssr)/./node_modules/.pnpm/near-api-js@2.1.4/node_modules/near-api-js/lib/utils/key_pair.js\");\nconst js_sha256_1 = __webpack_require__(/*! js-sha256 */ \"(ssr)/./node_modules/.pnpm/js-sha256@0.9.0/node_modules/js-sha256/src/sha256.js\");\nconst crypto_1 = __webpack_require__(/*! crypto */ \"crypto\");\nconst bn_js_1 = __importDefault(__webpack_require__(/*! bn.js */ \"(ssr)/./node_modules/.pnpm/bn.js@5.2.1/node_modules/bn.js/lib/bn.js\"));\nconst HereKeyStore_1 = __webpack_require__(/*! ./HereKeyStore */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/HereKeyStore.js\");\nconst provider_1 = __webpack_require__(/*! ./provider */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/provider.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/utils.js\");\nconst here_provider_1 = __webpack_require__(/*! ./here-provider */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/here-provider/index.js\");\nconst actions_1 = __webpack_require__(/*! ./actions */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/actions/index.js\");\nconst WidgetStrategy_1 = __webpack_require__(/*! ./WidgetStrategy */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/WidgetStrategy.js\");\nconst nep0314_1 = __webpack_require__(/*! ./nep0314 */ \"(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/nep0314.js\");\nclass AccessDenied extends Error {\n}\nclass HereWallet {\n    constructor({ nodeUrl, networkId = \"mainnet\", authStorage = new HereKeyStore_1.HereKeyStore(), defaultStrategy = () => new WidgetStrategy_1.WidgetStrategy(), defaultProvider = here_provider_1.proxyProvider, } = {}) {\n        this.authStorage = authStorage;\n        this.defaultProvider = defaultProvider;\n        this.defaultStrategy = defaultStrategy;\n        const signer = new near_api_js_1.InMemorySigner(this.authStorage);\n        const rpc = new providers_1.JsonRpcProvider({ url: nodeUrl !== null && nodeUrl !== void 0 ? nodeUrl : `https://rpc.${networkId}.near.org` });\n        this.connection = near_api_js_1.Connection.fromConfig({\n            jsvmAccountId: `jsvm.${networkId}`,\n            provider: rpc,\n            networkId,\n            signer,\n        });\n    }\n    get rpc() {\n        return this.connection.provider;\n    }\n    get signer() {\n        return this.connection.signer;\n    }\n    get networkId() {\n        return this.connection.networkId;\n    }\n    account(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const accountId = id !== null && id !== void 0 ? id : (yield this.authStorage.getActiveAccount(this.networkId));\n            if (accountId == null)\n                throw new AccessDenied(\"Wallet not signed in\");\n            return new near_api_js_1.Account(this.connection, accountId);\n        });\n    }\n    isSignedIn() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const id = yield this.authStorage.getActiveAccount(this.networkId);\n            return id != null;\n        });\n    }\n    signOut() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const accountId = yield this.authStorage.getActiveAccount(this.networkId);\n            if (accountId == null)\n                throw new AccessDenied(\"Wallet not signed in\");\n            const key = yield this.authStorage.getKey(this.networkId, accountId);\n            if (key != null) {\n                const publicKey = key.getPublicKey().toString();\n                yield this.silentSignAndSendTransaction({\n                    receiverId: accountId,\n                    actions: [{ type: \"DeleteKey\", params: { publicKey } }],\n                }).catch(() => { });\n            }\n            yield this.authStorage.removeKey(this.networkId, accountId);\n        });\n    }\n    getHereBalance(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const account = yield this.account(id);\n            const contractId = this.networkId === \"mainnet\" ? \"here.storage.near\" : \"here.storage.testnet\";\n            const hereCoins = yield account\n                .viewFunction({\n                args: { account_id: account.accountId },\n                methodName: \"ft_balance_of\",\n                contractId,\n            })\n                .catch(() => \"0\");\n            return new bn_js_1.default(hereCoins);\n        });\n    }\n    getAvailableBalance(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const account = yield this.account(id);\n            const result = yield account.getAccountBalance();\n            const hereBalance = yield this.getHereBalance();\n            return new bn_js_1.default(result.available).add(new bn_js_1.default(hereBalance));\n        });\n    }\n    getAccounts() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.authStorage.getAccounts(this.networkId);\n        });\n    }\n    getAccountId() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const accountId = yield this.authStorage.getActiveAccount(this.networkId);\n            if (accountId == null)\n                throw new AccessDenied(\"Wallet not signed in\");\n            return accountId;\n        });\n    }\n    switchAccount(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const key = yield this.authStorage.getKey(this.networkId, id);\n            if (key == null)\n                throw new Error(`Account ${id} not signed in`);\n            yield this.authStorage.setActiveAccount(this.networkId, id);\n        });\n    }\n    signIn(_a = {}) {\n        var _b, _c, _d, _e, _f;\n        var { contractId, allowance, methodNames = [] } = _a, delegate = __rest(_a, [\"contractId\", \"allowance\", \"methodNames\"]);\n        return __awaiter(this, void 0, void 0, function* () {\n            if (contractId == null) {\n                const { accountId } = yield this.authenticate(delegate);\n                // Generate random keypair\n                yield this.authStorage.setKey(this.networkId, accountId, key_pair_1.KeyPairEd25519.fromRandom());\n                yield this.authStorage.setActiveAccount(this.networkId, accountId);\n                return accountId;\n            }\n            delegate.strategy = (_b = delegate.strategy) !== null && _b !== void 0 ? _b : this.defaultStrategy();\n            delegate.provider = (_c = delegate.provider) !== null && _c !== void 0 ? _c : this.defaultProvider;\n            (_d = delegate.onInitialized) === null || _d === void 0 ? void 0 : _d.call(delegate);\n            (_f = (_e = delegate.strategy) === null || _e === void 0 ? void 0 : _e.onInitialized) === null || _f === void 0 ? void 0 : _f.call(_e);\n            try {\n                const accessKey = near_api_js_1.KeyPair.fromRandom(\"ed25519\");\n                const permission = { receiverId: contractId, methodNames, allowance };\n                const data = yield delegate.provider(Object.assign(Object.assign({}, delegate), { request: {\n                        type: \"call\",\n                        network: this.networkId,\n                        transactions: [\n                            {\n                                actions: [\n                                    {\n                                        type: \"AddKey\",\n                                        params: {\n                                            publicKey: accessKey.getPublicKey().toString(),\n                                            accessKey: { permission },\n                                        },\n                                    },\n                                ],\n                            },\n                        ],\n                    } }));\n                if (data.account_id == null) {\n                    throw Error(\"Transaction is failed\");\n                }\n                yield this.authStorage.setKey(this.networkId, data.account_id, accessKey);\n                yield this.authStorage.setActiveAccount(this.networkId, data.account_id);\n                return data.account_id;\n            }\n            catch (error) {\n                (0, utils_1.internalThrow)(error, delegate);\n                throw error;\n            }\n        });\n    }\n    silentSignAndSendTransaction({ actions, receiverId, signerId }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const account = yield this.account(signerId);\n            const localKey = yield this.authStorage.getKey(this.networkId, account.accountId);\n            if (localKey == null)\n                throw new AccessDenied();\n            const publicKey = localKey.getPublicKey();\n            const accessKeys = yield account.getAccessKeys();\n            const call = { receiverId, actions };\n            const isValid = accessKeys.some((v) => {\n                if (v.public_key !== publicKey.toString())\n                    return false;\n                return (0, utils_1.isValidAccessKey)(account.accountId, v, call);\n            });\n            if (isValid === false)\n                throw new AccessDenied();\n            return yield account.signAndSendTransaction({\n                actions: actions.map((a) => (0, actions_1.createAction)(a)),\n                receiverId: receiverId !== null && receiverId !== void 0 ? receiverId : account.accountId,\n            });\n        });\n    }\n    signAndSendTransaction(opts) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        return __awaiter(this, void 0, void 0, function* () {\n            const { signerId, receiverId, actions } = opts, args = __rest(opts, [\"signerId\", \"receiverId\", \"actions\"]);\n            const delegate = args;\n            delegate.strategy = (_a = delegate.strategy) !== null && _a !== void 0 ? _a : this.defaultStrategy();\n            delegate.provider = (_b = delegate.provider) !== null && _b !== void 0 ? _b : this.defaultProvider;\n            (_c = delegate.onInitialized) === null || _c === void 0 ? void 0 : _c.call(delegate);\n            (_e = (_d = delegate.strategy) === null || _d === void 0 ? void 0 : _d.onInitialized) === null || _e === void 0 ? void 0 : _e.call(_d);\n            try {\n                const result = yield this.silentSignAndSendTransaction({ receiverId, actions, signerId });\n                const success = { status: provider_1.HereProviderStatus.SUCCESS, payload: result === null || result === void 0 ? void 0 : result.transaction_outcome.id };\n                (_f = delegate.onSuccess) === null || _f === void 0 ? void 0 : _f.call(delegate, success);\n                (_h = (_g = delegate.strategy) === null || _g === void 0 ? void 0 : _g.onSuccess) === null || _h === void 0 ? void 0 : _h.call(_g, success);\n                return result;\n            }\n            catch (e) {\n                try {\n                    // If silent sign return AccessDenied or NotEnoughAllowance we request mobile wallet\n                    // OR its just transaction error\n                    if (!(e instanceof AccessDenied) && (e === null || e === void 0 ? void 0 : e.type) !== \"NotEnoughAllowance\") {\n                        (0, utils_1.internalThrow)(e, delegate);\n                        throw e;\n                    }\n                    const data = yield delegate.provider(Object.assign(Object.assign({}, delegate), { request: {\n                            type: \"call\",\n                            transactions: [{ actions: (0, utils_1.serializeActions)(actions), receiverId, signerId }],\n                            network: this.networkId,\n                        } }));\n                    if (data.payload == null || data.account_id == null) {\n                        throw Error(\"Transaction not found, but maybe executed\");\n                    }\n                    return yield this.rpc.txStatus(data.payload, data.account_id);\n                }\n                catch (error) {\n                    (0, utils_1.internalThrow)(error, delegate);\n                    throw error;\n                }\n            }\n        });\n    }\n    verifyMessageNEP0413(request, result) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const isSignatureValid = (0, nep0314_1.verifySignature)(request, result);\n            if (!isSignatureValid)\n                throw Error(\"Incorrect signature\");\n            const account = yield this.account(result.accountId);\n            const keys = yield account.getAccessKeys();\n            const isFullAccess = keys.some((k) => {\n                if (k.public_key !== result.publicKey)\n                    return false;\n                if (k.access_key.permission !== \"FullAccess\")\n                    return false;\n                return true;\n            });\n            if (!isFullAccess)\n                throw Error(\"Signer public key is not full access\");\n            return true;\n        });\n    }\n    authenticate(options = {}) {\n        var _a, _b, _c;\n        return __awaiter(this, void 0, void 0, function* () {\n            const signRequest = {\n                nonce: (_a = options.nonce) !== null && _a !== void 0 ? _a : (0, crypto_1.randomBytes)(32),\n                recipient: (_b = options.recipient) !== null && _b !== void 0 ? _b : window.location.host,\n                message: (_c = options.message) !== null && _c !== void 0 ? _c : \"Authenticate\",\n            };\n            const signed = yield this.signMessage(Object.assign(Object.assign({}, signRequest), options));\n            yield this.verifyMessageNEP0413(signRequest, signed);\n            return signed;\n        });\n    }\n    signMessage(options) {\n        var _a, _b, _c, _d, _e;\n        return __awaiter(this, void 0, void 0, function* () {\n            options.strategy = (_a = options.strategy) !== null && _a !== void 0 ? _a : this.defaultStrategy();\n            options.provider = (_b = options.provider) !== null && _b !== void 0 ? _b : this.defaultProvider;\n            (_c = options.onInitialized) === null || _c === void 0 ? void 0 : _c.call(options);\n            (_e = (_d = options.strategy) === null || _d === void 0 ? void 0 : _d.onInitialized) === null || _e === void 0 ? void 0 : _e.call(_d);\n            // Legacy format with receiver property, does not correspond to the current version of the standard\n            if (\"receiver\" in options)\n                return yield this.legacySignMessage(options);\n            const data = yield options.provider(Object.assign(Object.assign({}, options), { request: {\n                    type: \"sign\",\n                    message: options.message,\n                    recipient: options.recipient,\n                    nonce: Array.from(options.nonce),\n                    network: this.networkId,\n                } }));\n            if ((data === null || data === void 0 ? void 0 : data.payload) == null)\n                throw Error(\"Signature not found\");\n            const { publicKey, signature, accountId } = JSON.parse(data.payload);\n            return { publicKey, signature, accountId };\n        });\n    }\n    legacySignMessage(_a) {\n        var _b;\n        var { message, receiver, nonce } = _a, delegate = __rest(_a, [\"message\", \"receiver\", \"nonce\"]);\n        return __awaiter(this, void 0, void 0, function* () {\n            if (nonce == null) {\n                let nonceArray = new Uint8Array(32);\n                nonce = [...crypto.getRandomValues(nonceArray)];\n            }\n            const data = yield ((_b = delegate.provider) === null || _b === void 0 ? void 0 : _b.call(delegate, Object.assign(Object.assign({}, delegate), { request: { type: \"sign\", message, receiver, nonce, network: this.networkId } })));\n            if ((data === null || data === void 0 ? void 0 : data.payload) == null) {\n                throw Error(\"Signature not found\");\n            }\n            try {\n                const { publicKey, signature, accountId } = JSON.parse(data.payload);\n                const sign = new Uint8Array(Buffer.from(signature, \"base64\"));\n                const json = JSON.stringify({ message, receiver, nonce });\n                const msg = new Uint8Array(js_sha256_1.sha256.digest(`NEP0413:` + json));\n                const isVerify = key_pair_1.PublicKey.from(publicKey).verify(msg, sign);\n                if (isVerify === false)\n                    throw Error();\n                const account = yield this.account(accountId);\n                const keys = yield account.getAccessKeys();\n                const pb = publicKey.toString();\n                const isValid = keys.some((k) => {\n                    if (k.public_key !== pb)\n                        return false;\n                    if (k.access_key.permission !== \"FullAccess\")\n                        return false;\n                    return true;\n                });\n                if (isValid === false)\n                    throw Error();\n                return {\n                    signature: new Uint8Array(Buffer.from(signature, \"base64\")),\n                    publicKey: key_pair_1.PublicKey.from(publicKey),\n                    message: `NEP0413:` + json,\n                    receiver,\n                    accountId,\n                    nonce,\n                };\n            }\n            catch (_c) {\n                throw Error(\"Signature not correct\");\n            }\n        });\n    }\n    signAndSendTransactions(_a) {\n        var _b, _c, _d, _e, _f, _g, _h, _j;\n        var { transactions } = _a, delegate = __rest(_a, [\"transactions\"]);\n        return __awaiter(this, void 0, void 0, function* () {\n            delegate.strategy = (_b = delegate.strategy) !== null && _b !== void 0 ? _b : this.defaultStrategy();\n            delegate.provider = (_c = delegate.provider) !== null && _c !== void 0 ? _c : this.defaultProvider;\n            (_d = delegate.onInitialized) === null || _d === void 0 ? void 0 : _d.call(delegate);\n            (_f = (_e = delegate.strategy) === null || _e === void 0 ? void 0 : _e.onInitialized) === null || _f === void 0 ? void 0 : _f.call(_e);\n            let results = [];\n            try {\n                for (const call of transactions) {\n                    const r = yield this.silentSignAndSendTransaction(call);\n                    results.push(r);\n                }\n                const payload = results.map((result) => result.transaction_outcome.id).join(\",\");\n                const success = { status: provider_1.HereProviderStatus.SUCCESS, payload };\n                (_g = delegate.onSuccess) === null || _g === void 0 ? void 0 : _g.call(delegate, success);\n                (_j = (_h = delegate.strategy) === null || _h === void 0 ? void 0 : _h.onSuccess) === null || _j === void 0 ? void 0 : _j.call(_h, success);\n                return results;\n            }\n            catch (e) {\n                try {\n                    // If silent sign return access denied or not enough balance we request mobile wallet\n                    // OR its just transaction error\n                    if (!(e instanceof AccessDenied) && (e === null || e === void 0 ? void 0 : e.type) !== \"NotEnoughAllowance\") {\n                        (0, utils_1.internalThrow)(e, delegate);\n                        throw e;\n                    }\n                    const uncompleted = transactions.slice(results.length);\n                    const data = yield delegate.provider(Object.assign(Object.assign({}, delegate), { request: {\n                            type: \"call\",\n                            transactions: uncompleted.map((trx) => (Object.assign(Object.assign({}, trx), { actions: (0, utils_1.serializeActions)(trx.actions) }))),\n                            network: this.networkId,\n                        } }));\n                    if (data.payload == null || data.account_id == null) {\n                        throw Error(\"Transaction not found, but maybe executed\");\n                    }\n                    const promises = data.payload.split(\",\").map((id) => this.rpc.txStatus(id, data.account_id));\n                    return yield Promise.all(promises);\n                }\n                catch (error) {\n                    (0, utils_1.internalThrow)(error, delegate);\n                    throw error;\n                }\n            }\n        });\n    }\n}\nexports.HereWallet = HereWallet;\n//# sourceMappingURL=wallet.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS41LjFfYm4uanNANS4yLjFfYm9yc2hAMC43LjBfbmVhci1hcGktanNAMi4xLjQvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL3dhbGxldC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELGNBQWM7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtCQUFrQjtBQUNsQixzQkFBc0IsbUJBQU8sQ0FBQyx1R0FBYTtBQUMzQyxvQkFBb0IsbUJBQU8sQ0FBQywrSEFBMkI7QUFDdkQsbUJBQW1CLG1CQUFPLENBQUMsbUlBQWdDO0FBQzNELG9CQUFvQixtQkFBTyxDQUFDLGtHQUFXO0FBQ3ZDLGlCQUFpQixtQkFBTyxDQUFDLHNCQUFRO0FBQ2pDLGdDQUFnQyxtQkFBTyxDQUFDLGtGQUFPO0FBQy9DLHVCQUF1QixtQkFBTyxDQUFDLHlLQUFnQjtBQUMvQyxtQkFBbUIsbUJBQU8sQ0FBQyxpS0FBWTtBQUN2QyxnQkFBZ0IsbUJBQU8sQ0FBQywySkFBUztBQUNqQyx3QkFBd0IsbUJBQU8sQ0FBQyxpTEFBaUI7QUFDakQsa0JBQWtCLG1CQUFPLENBQUMscUtBQVc7QUFDckMseUJBQXlCLG1CQUFPLENBQUMsNktBQWtCO0FBQ25ELGtCQUFrQixtQkFBTyxDQUFDLCtKQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixtTUFBbU0sSUFBSTtBQUN6TjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCx1RUFBdUUsVUFBVSxZQUFZO0FBQ25KO0FBQ0EsbUNBQW1DLFVBQVU7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw2QkFBNkIsYUFBYTtBQUMxRSxpQkFBaUIsaUJBQWlCO0FBQ2xDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsK0JBQStCO0FBQ3ZEO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLElBQUk7QUFDL0M7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQSxjQUFjLDBDQUEwQztBQUN4RDtBQUNBO0FBQ0Esd0JBQXdCLFlBQVk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQyxtRkFBbUYsZUFBZTtBQUNsRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsWUFBWTtBQUNyRSx5Q0FBeUM7QUFDekMscUNBQXFDO0FBQ3JDO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxtQ0FBbUMsK0JBQStCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGdDQUFnQztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RUFBeUUsK0JBQStCO0FBQ3hHLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RkFBdUYsZUFBZTtBQUN0RztBQUNBLDZDQUE2Qyx1RUFBdUU7QUFDcEg7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRkFBZ0Y7QUFDaEY7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLGNBQWM7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0Esb0JBQW9CLGtDQUFrQztBQUN0RCxxQkFBcUI7QUFDckIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGNBQWMsMkJBQTJCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4SUFBOEksZUFBZSxXQUFXLG1FQUFtRTtBQUMzTztBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixrQ0FBa0M7QUFDMUQ7QUFDQSw4Q0FBOEMsMEJBQTBCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsY0FBYyxlQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVGQUF1RixlQUFlO0FBQ3RHO0FBQ0Esa0dBQWtHLFVBQVUscURBQXFEO0FBQ2pLO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQiIsInNvdXJjZXMiOlsid2VicGFjazovL2hlbGxvLW5lYXIvLi9ub2RlX21vZHVsZXMvLnBucG0vQGhlcmUtd2FsbGV0K2NvcmVAMS41LjFfYm4uanNANS4yLjFfYm9yc2hAMC43LjBfbmVhci1hcGktanNAMi4xLjQvbm9kZV9tb2R1bGVzL0BoZXJlLXdhbGxldC9jb3JlL2J1aWxkL3dhbGxldC5qcz8wYmE5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19yZXN0ID0gKHRoaXMgJiYgdGhpcy5fX3Jlc3QpIHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkhlcmVXYWxsZXQgPSB2b2lkIDA7XG5jb25zdCBuZWFyX2FwaV9qc18xID0gcmVxdWlyZShcIm5lYXItYXBpLWpzXCIpO1xuY29uc3QgcHJvdmlkZXJzXzEgPSByZXF1aXJlKFwibmVhci1hcGktanMvbGliL3Byb3ZpZGVyc1wiKTtcbmNvbnN0IGtleV9wYWlyXzEgPSByZXF1aXJlKFwibmVhci1hcGktanMvbGliL3V0aWxzL2tleV9wYWlyXCIpO1xuY29uc3QganNfc2hhMjU2XzEgPSByZXF1aXJlKFwianMtc2hhMjU2XCIpO1xuY29uc3QgY3J5cHRvXzEgPSByZXF1aXJlKFwiY3J5cHRvXCIpO1xuY29uc3QgYm5fanNfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiYm4uanNcIikpO1xuY29uc3QgSGVyZUtleVN0b3JlXzEgPSByZXF1aXJlKFwiLi9IZXJlS2V5U3RvcmVcIik7XG5jb25zdCBwcm92aWRlcl8xID0gcmVxdWlyZShcIi4vcHJvdmlkZXJcIik7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5jb25zdCBoZXJlX3Byb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9oZXJlLXByb3ZpZGVyXCIpO1xuY29uc3QgYWN0aW9uc18xID0gcmVxdWlyZShcIi4vYWN0aW9uc1wiKTtcbmNvbnN0IFdpZGdldFN0cmF0ZWd5XzEgPSByZXF1aXJlKFwiLi9XaWRnZXRTdHJhdGVneVwiKTtcbmNvbnN0IG5lcDAzMTRfMSA9IHJlcXVpcmUoXCIuL25lcDAzMTRcIik7XG5jbGFzcyBBY2Nlc3NEZW5pZWQgZXh0ZW5kcyBFcnJvciB7XG59XG5jbGFzcyBIZXJlV2FsbGV0IHtcbiAgICBjb25zdHJ1Y3Rvcih7IG5vZGVVcmwsIG5ldHdvcmtJZCA9IFwibWFpbm5ldFwiLCBhdXRoU3RvcmFnZSA9IG5ldyBIZXJlS2V5U3RvcmVfMS5IZXJlS2V5U3RvcmUoKSwgZGVmYXVsdFN0cmF0ZWd5ID0gKCkgPT4gbmV3IFdpZGdldFN0cmF0ZWd5XzEuV2lkZ2V0U3RyYXRlZ3koKSwgZGVmYXVsdFByb3ZpZGVyID0gaGVyZV9wcm92aWRlcl8xLnByb3h5UHJvdmlkZXIsIH0gPSB7fSkge1xuICAgICAgICB0aGlzLmF1dGhTdG9yYWdlID0gYXV0aFN0b3JhZ2U7XG4gICAgICAgIHRoaXMuZGVmYXVsdFByb3ZpZGVyID0gZGVmYXVsdFByb3ZpZGVyO1xuICAgICAgICB0aGlzLmRlZmF1bHRTdHJhdGVneSA9IGRlZmF1bHRTdHJhdGVneTtcbiAgICAgICAgY29uc3Qgc2lnbmVyID0gbmV3IG5lYXJfYXBpX2pzXzEuSW5NZW1vcnlTaWduZXIodGhpcy5hdXRoU3RvcmFnZSk7XG4gICAgICAgIGNvbnN0IHJwYyA9IG5ldyBwcm92aWRlcnNfMS5Kc29uUnBjUHJvdmlkZXIoeyB1cmw6IG5vZGVVcmwgIT09IG51bGwgJiYgbm9kZVVybCAhPT0gdm9pZCAwID8gbm9kZVVybCA6IGBodHRwczovL3JwYy4ke25ldHdvcmtJZH0ubmVhci5vcmdgIH0pO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBuZWFyX2FwaV9qc18xLkNvbm5lY3Rpb24uZnJvbUNvbmZpZyh7XG4gICAgICAgICAgICBqc3ZtQWNjb3VudElkOiBganN2bS4ke25ldHdvcmtJZH1gLFxuICAgICAgICAgICAgcHJvdmlkZXI6IHJwYyxcbiAgICAgICAgICAgIG5ldHdvcmtJZCxcbiAgICAgICAgICAgIHNpZ25lcixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBycGMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb24ucHJvdmlkZXI7XG4gICAgfVxuICAgIGdldCBzaWduZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb24uc2lnbmVyO1xuICAgIH1cbiAgICBnZXQgbmV0d29ya0lkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uLm5ldHdvcmtJZDtcbiAgICB9XG4gICAgYWNjb3VudChpZCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgYWNjb3VudElkID0gaWQgIT09IG51bGwgJiYgaWQgIT09IHZvaWQgMCA/IGlkIDogKHlpZWxkIHRoaXMuYXV0aFN0b3JhZ2UuZ2V0QWN0aXZlQWNjb3VudCh0aGlzLm5ldHdvcmtJZCkpO1xuICAgICAgICAgICAgaWYgKGFjY291bnRJZCA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBY2Nlc3NEZW5pZWQoXCJXYWxsZXQgbm90IHNpZ25lZCBpblwiKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgbmVhcl9hcGlfanNfMS5BY2NvdW50KHRoaXMuY29ubmVjdGlvbiwgYWNjb3VudElkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlzU2lnbmVkSW4oKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHlpZWxkIHRoaXMuYXV0aFN0b3JhZ2UuZ2V0QWN0aXZlQWNjb3VudCh0aGlzLm5ldHdvcmtJZCk7XG4gICAgICAgICAgICByZXR1cm4gaWQgIT0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNpZ25PdXQoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBhY2NvdW50SWQgPSB5aWVsZCB0aGlzLmF1dGhTdG9yYWdlLmdldEFjdGl2ZUFjY291bnQodGhpcy5uZXR3b3JrSWQpO1xuICAgICAgICAgICAgaWYgKGFjY291bnRJZCA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBY2Nlc3NEZW5pZWQoXCJXYWxsZXQgbm90IHNpZ25lZCBpblwiKTtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHlpZWxkIHRoaXMuYXV0aFN0b3JhZ2UuZ2V0S2V5KHRoaXMubmV0d29ya0lkLCBhY2NvdW50SWQpO1xuICAgICAgICAgICAgaWYgKGtleSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHVibGljS2V5ID0ga2V5LmdldFB1YmxpY0tleSgpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgeWllbGQgdGhpcy5zaWxlbnRTaWduQW5kU2VuZFRyYW5zYWN0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXJJZDogYWNjb3VudElkLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbeyB0eXBlOiBcIkRlbGV0ZUtleVwiLCBwYXJhbXM6IHsgcHVibGljS2V5IH0gfV0sXG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4geyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHlpZWxkIHRoaXMuYXV0aFN0b3JhZ2UucmVtb3ZlS2V5KHRoaXMubmV0d29ya0lkLCBhY2NvdW50SWQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0SGVyZUJhbGFuY2UoaWQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGFjY291bnQgPSB5aWVsZCB0aGlzLmFjY291bnQoaWQpO1xuICAgICAgICAgICAgY29uc3QgY29udHJhY3RJZCA9IHRoaXMubmV0d29ya0lkID09PSBcIm1haW5uZXRcIiA/IFwiaGVyZS5zdG9yYWdlLm5lYXJcIiA6IFwiaGVyZS5zdG9yYWdlLnRlc3RuZXRcIjtcbiAgICAgICAgICAgIGNvbnN0IGhlcmVDb2lucyA9IHlpZWxkIGFjY291bnRcbiAgICAgICAgICAgICAgICAudmlld0Z1bmN0aW9uKHtcbiAgICAgICAgICAgICAgICBhcmdzOiB7IGFjY291bnRfaWQ6IGFjY291bnQuYWNjb3VudElkIH0sXG4gICAgICAgICAgICAgICAgbWV0aG9kTmFtZTogXCJmdF9iYWxhbmNlX29mXCIsXG4gICAgICAgICAgICAgICAgY29udHJhY3RJZCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IFwiMFwiKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgYm5fanNfMS5kZWZhdWx0KGhlcmVDb2lucyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRBdmFpbGFibGVCYWxhbmNlKGlkKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBhY2NvdW50ID0geWllbGQgdGhpcy5hY2NvdW50KGlkKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHlpZWxkIGFjY291bnQuZ2V0QWNjb3VudEJhbGFuY2UoKTtcbiAgICAgICAgICAgIGNvbnN0IGhlcmVCYWxhbmNlID0geWllbGQgdGhpcy5nZXRIZXJlQmFsYW5jZSgpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBibl9qc18xLmRlZmF1bHQocmVzdWx0LmF2YWlsYWJsZSkuYWRkKG5ldyBibl9qc18xLmRlZmF1bHQoaGVyZUJhbGFuY2UpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldEFjY291bnRzKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIHlpZWxkIHRoaXMuYXV0aFN0b3JhZ2UuZ2V0QWNjb3VudHModGhpcy5uZXR3b3JrSWQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0QWNjb3VudElkKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgYWNjb3VudElkID0geWllbGQgdGhpcy5hdXRoU3RvcmFnZS5nZXRBY3RpdmVBY2NvdW50KHRoaXMubmV0d29ya0lkKTtcbiAgICAgICAgICAgIGlmIChhY2NvdW50SWQgPT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQWNjZXNzRGVuaWVkKFwiV2FsbGV0IG5vdCBzaWduZWQgaW5cIik7XG4gICAgICAgICAgICByZXR1cm4gYWNjb3VudElkO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3dpdGNoQWNjb3VudChpZCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0geWllbGQgdGhpcy5hdXRoU3RvcmFnZS5nZXRLZXkodGhpcy5uZXR3b3JrSWQsIGlkKTtcbiAgICAgICAgICAgIGlmIChrZXkgPT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFjY291bnQgJHtpZH0gbm90IHNpZ25lZCBpbmApO1xuICAgICAgICAgICAgeWllbGQgdGhpcy5hdXRoU3RvcmFnZS5zZXRBY3RpdmVBY2NvdW50KHRoaXMubmV0d29ya0lkLCBpZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzaWduSW4oX2EgPSB7fSkge1xuICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICB2YXIgeyBjb250cmFjdElkLCBhbGxvd2FuY2UsIG1ldGhvZE5hbWVzID0gW10gfSA9IF9hLCBkZWxlZ2F0ZSA9IF9fcmVzdChfYSwgW1wiY29udHJhY3RJZFwiLCBcImFsbG93YW5jZVwiLCBcIm1ldGhvZE5hbWVzXCJdKTtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmIChjb250cmFjdElkID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGFjY291bnRJZCB9ID0geWllbGQgdGhpcy5hdXRoZW50aWNhdGUoZGVsZWdhdGUpO1xuICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIHJhbmRvbSBrZXlwYWlyXG4gICAgICAgICAgICAgICAgeWllbGQgdGhpcy5hdXRoU3RvcmFnZS5zZXRLZXkodGhpcy5uZXR3b3JrSWQsIGFjY291bnRJZCwga2V5X3BhaXJfMS5LZXlQYWlyRWQyNTUxOS5mcm9tUmFuZG9tKCkpO1xuICAgICAgICAgICAgICAgIHlpZWxkIHRoaXMuYXV0aFN0b3JhZ2Uuc2V0QWN0aXZlQWNjb3VudCh0aGlzLm5ldHdvcmtJZCwgYWNjb3VudElkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjb3VudElkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZWdhdGUuc3RyYXRlZ3kgPSAoX2IgPSBkZWxlZ2F0ZS5zdHJhdGVneSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5kZWZhdWx0U3RyYXRlZ3koKTtcbiAgICAgICAgICAgIGRlbGVnYXRlLnByb3ZpZGVyID0gKF9jID0gZGVsZWdhdGUucHJvdmlkZXIpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IHRoaXMuZGVmYXVsdFByb3ZpZGVyO1xuICAgICAgICAgICAgKF9kID0gZGVsZWdhdGUub25Jbml0aWFsaXplZCkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmNhbGwoZGVsZWdhdGUpO1xuICAgICAgICAgICAgKF9mID0gKF9lID0gZGVsZWdhdGUuc3RyYXRlZ3kpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5vbkluaXRpYWxpemVkKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YuY2FsbChfZSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjY2Vzc0tleSA9IG5lYXJfYXBpX2pzXzEuS2V5UGFpci5mcm9tUmFuZG9tKFwiZWQyNTUxOVwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwZXJtaXNzaW9uID0geyByZWNlaXZlcklkOiBjb250cmFjdElkLCBtZXRob2ROYW1lcywgYWxsb3dhbmNlIH07XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHlpZWxkIGRlbGVnYXRlLnByb3ZpZGVyKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVsZWdhdGUpLCB7IHJlcXVlc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2FsbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV0d29yazogdGhpcy5uZXR3b3JrSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIkFkZEtleVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdWJsaWNLZXk6IGFjY2Vzc0tleS5nZXRQdWJsaWNLZXkoKS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NLZXk6IHsgcGVybWlzc2lvbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICB9IH0pKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5hY2NvdW50X2lkID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJUcmFuc2FjdGlvbiBpcyBmYWlsZWRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHlpZWxkIHRoaXMuYXV0aFN0b3JhZ2Uuc2V0S2V5KHRoaXMubmV0d29ya0lkLCBkYXRhLmFjY291bnRfaWQsIGFjY2Vzc0tleSk7XG4gICAgICAgICAgICAgICAgeWllbGQgdGhpcy5hdXRoU3RvcmFnZS5zZXRBY3RpdmVBY2NvdW50KHRoaXMubmV0d29ya0lkLCBkYXRhLmFjY291bnRfaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmFjY291bnRfaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAoMCwgdXRpbHNfMS5pbnRlcm5hbFRocm93KShlcnJvciwgZGVsZWdhdGUpO1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2lsZW50U2lnbkFuZFNlbmRUcmFuc2FjdGlvbih7IGFjdGlvbnMsIHJlY2VpdmVySWQsIHNpZ25lcklkIH0pIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGFjY291bnQgPSB5aWVsZCB0aGlzLmFjY291bnQoc2lnbmVySWQpO1xuICAgICAgICAgICAgY29uc3QgbG9jYWxLZXkgPSB5aWVsZCB0aGlzLmF1dGhTdG9yYWdlLmdldEtleSh0aGlzLm5ldHdvcmtJZCwgYWNjb3VudC5hY2NvdW50SWQpO1xuICAgICAgICAgICAgaWYgKGxvY2FsS2V5ID09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFjY2Vzc0RlbmllZCgpO1xuICAgICAgICAgICAgY29uc3QgcHVibGljS2V5ID0gbG9jYWxLZXkuZ2V0UHVibGljS2V5KCk7XG4gICAgICAgICAgICBjb25zdCBhY2Nlc3NLZXlzID0geWllbGQgYWNjb3VudC5nZXRBY2Nlc3NLZXlzKCk7XG4gICAgICAgICAgICBjb25zdCBjYWxsID0geyByZWNlaXZlcklkLCBhY3Rpb25zIH07XG4gICAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gYWNjZXNzS2V5cy5zb21lKCh2KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHYucHVibGljX2tleSAhPT0gcHVibGljS2V5LnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIHV0aWxzXzEuaXNWYWxpZEFjY2Vzc0tleSkoYWNjb3VudC5hY2NvdW50SWQsIHYsIGNhbGwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaXNWYWxpZCA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFjY2Vzc0RlbmllZCgpO1xuICAgICAgICAgICAgcmV0dXJuIHlpZWxkIGFjY291bnQuc2lnbkFuZFNlbmRUcmFuc2FjdGlvbih7XG4gICAgICAgICAgICAgICAgYWN0aW9uczogYWN0aW9ucy5tYXAoKGEpID0+ICgwLCBhY3Rpb25zXzEuY3JlYXRlQWN0aW9uKShhKSksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZXJJZDogcmVjZWl2ZXJJZCAhPT0gbnVsbCAmJiByZWNlaXZlcklkICE9PSB2b2lkIDAgPyByZWNlaXZlcklkIDogYWNjb3VudC5hY2NvdW50SWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNpZ25BbmRTZW5kVHJhbnNhY3Rpb24ob3B0cykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgeyBzaWduZXJJZCwgcmVjZWl2ZXJJZCwgYWN0aW9ucyB9ID0gb3B0cywgYXJncyA9IF9fcmVzdChvcHRzLCBbXCJzaWduZXJJZFwiLCBcInJlY2VpdmVySWRcIiwgXCJhY3Rpb25zXCJdKTtcbiAgICAgICAgICAgIGNvbnN0IGRlbGVnYXRlID0gYXJncztcbiAgICAgICAgICAgIGRlbGVnYXRlLnN0cmF0ZWd5ID0gKF9hID0gZGVsZWdhdGUuc3RyYXRlZ3kpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMuZGVmYXVsdFN0cmF0ZWd5KCk7XG4gICAgICAgICAgICBkZWxlZ2F0ZS5wcm92aWRlciA9IChfYiA9IGRlbGVnYXRlLnByb3ZpZGVyKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLmRlZmF1bHRQcm92aWRlcjtcbiAgICAgICAgICAgIChfYyA9IGRlbGVnYXRlLm9uSW5pdGlhbGl6ZWQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKGRlbGVnYXRlKTtcbiAgICAgICAgICAgIChfZSA9IChfZCA9IGRlbGVnYXRlLnN0cmF0ZWd5KSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Qub25Jbml0aWFsaXplZCkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmNhbGwoX2QpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB5aWVsZCB0aGlzLnNpbGVudFNpZ25BbmRTZW5kVHJhbnNhY3Rpb24oeyByZWNlaXZlcklkLCBhY3Rpb25zLCBzaWduZXJJZCB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdWNjZXNzID0geyBzdGF0dXM6IHByb3ZpZGVyXzEuSGVyZVByb3ZpZGVyU3RhdHVzLlNVQ0NFU1MsIHBheWxvYWQ6IHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdC50cmFuc2FjdGlvbl9vdXRjb21lLmlkIH07XG4gICAgICAgICAgICAgICAgKF9mID0gZGVsZWdhdGUub25TdWNjZXNzKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YuY2FsbChkZWxlZ2F0ZSwgc3VjY2Vzcyk7XG4gICAgICAgICAgICAgICAgKF9oID0gKF9nID0gZGVsZWdhdGUuc3RyYXRlZ3kpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5vblN1Y2Nlc3MpID09PSBudWxsIHx8IF9oID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaC5jYWxsKF9nLCBzdWNjZXNzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBzaWxlbnQgc2lnbiByZXR1cm4gQWNjZXNzRGVuaWVkIG9yIE5vdEVub3VnaEFsbG93YW5jZSB3ZSByZXF1ZXN0IG1vYmlsZSB3YWxsZXRcbiAgICAgICAgICAgICAgICAgICAgLy8gT1IgaXRzIGp1c3QgdHJhbnNhY3Rpb24gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIEFjY2Vzc0RlbmllZCkgJiYgKGUgPT09IG51bGwgfHwgZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZS50eXBlKSAhPT0gXCJOb3RFbm91Z2hBbGxvd2FuY2VcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIHV0aWxzXzEuaW50ZXJuYWxUaHJvdykoZSwgZGVsZWdhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0geWllbGQgZGVsZWdhdGUucHJvdmlkZXIoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWxlZ2F0ZSksIHsgcmVxdWVzdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2FsbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uczogW3sgYWN0aW9uczogKDAsIHV0aWxzXzEuc2VyaWFsaXplQWN0aW9ucykoYWN0aW9ucyksIHJlY2VpdmVySWQsIHNpZ25lcklkIH1dLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldHdvcms6IHRoaXMubmV0d29ya0lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSB9KSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnBheWxvYWQgPT0gbnVsbCB8fCBkYXRhLmFjY291bnRfaWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJUcmFuc2FjdGlvbiBub3QgZm91bmQsIGJ1dCBtYXliZSBleGVjdXRlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geWllbGQgdGhpcy5ycGMudHhTdGF0dXMoZGF0YS5wYXlsb2FkLCBkYXRhLmFjY291bnRfaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHV0aWxzXzEuaW50ZXJuYWxUaHJvdykoZXJyb3IsIGRlbGVnYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdmVyaWZ5TWVzc2FnZU5FUDA0MTMocmVxdWVzdCwgcmVzdWx0KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBpc1NpZ25hdHVyZVZhbGlkID0gKDAsIG5lcDAzMTRfMS52ZXJpZnlTaWduYXR1cmUpKHJlcXVlc3QsIHJlc3VsdCk7XG4gICAgICAgICAgICBpZiAoIWlzU2lnbmF0dXJlVmFsaWQpXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJJbmNvcnJlY3Qgc2lnbmF0dXJlXCIpO1xuICAgICAgICAgICAgY29uc3QgYWNjb3VudCA9IHlpZWxkIHRoaXMuYWNjb3VudChyZXN1bHQuYWNjb3VudElkKTtcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSB5aWVsZCBhY2NvdW50LmdldEFjY2Vzc0tleXMoKTtcbiAgICAgICAgICAgIGNvbnN0IGlzRnVsbEFjY2VzcyA9IGtleXMuc29tZSgoaykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChrLnB1YmxpY19rZXkgIT09IHJlc3VsdC5wdWJsaWNLZXkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoay5hY2Nlc3Nfa2V5LnBlcm1pc3Npb24gIT09IFwiRnVsbEFjY2Vzc1wiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghaXNGdWxsQWNjZXNzKVxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiU2lnbmVyIHB1YmxpYyBrZXkgaXMgbm90IGZ1bGwgYWNjZXNzXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhdXRoZW50aWNhdGUob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3Qgc2lnblJlcXVlc3QgPSB7XG4gICAgICAgICAgICAgICAgbm9uY2U6IChfYSA9IG9wdGlvbnMubm9uY2UpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICgwLCBjcnlwdG9fMS5yYW5kb21CeXRlcykoMzIpLFxuICAgICAgICAgICAgICAgIHJlY2lwaWVudDogKF9iID0gb3B0aW9ucy5yZWNpcGllbnQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHdpbmRvdy5sb2NhdGlvbi5ob3N0LFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IChfYyA9IG9wdGlvbnMubWVzc2FnZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogXCJBdXRoZW50aWNhdGVcIixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBzaWduZWQgPSB5aWVsZCB0aGlzLnNpZ25NZXNzYWdlKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc2lnblJlcXVlc3QpLCBvcHRpb25zKSk7XG4gICAgICAgICAgICB5aWVsZCB0aGlzLnZlcmlmeU1lc3NhZ2VORVAwNDEzKHNpZ25SZXF1ZXN0LCBzaWduZWQpO1xuICAgICAgICAgICAgcmV0dXJuIHNpZ25lZDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNpZ25NZXNzYWdlKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuc3RyYXRlZ3kgPSAoX2EgPSBvcHRpb25zLnN0cmF0ZWd5KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLmRlZmF1bHRTdHJhdGVneSgpO1xuICAgICAgICAgICAgb3B0aW9ucy5wcm92aWRlciA9IChfYiA9IG9wdGlvbnMucHJvdmlkZXIpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRoaXMuZGVmYXVsdFByb3ZpZGVyO1xuICAgICAgICAgICAgKF9jID0gb3B0aW9ucy5vbkluaXRpYWxpemVkKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChvcHRpb25zKTtcbiAgICAgICAgICAgIChfZSA9IChfZCA9IG9wdGlvbnMuc3RyYXRlZ3kpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5vbkluaXRpYWxpemVkKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuY2FsbChfZCk7XG4gICAgICAgICAgICAvLyBMZWdhY3kgZm9ybWF0IHdpdGggcmVjZWl2ZXIgcHJvcGVydHksIGRvZXMgbm90IGNvcnJlc3BvbmQgdG8gdGhlIGN1cnJlbnQgdmVyc2lvbiBvZiB0aGUgc3RhbmRhcmRcbiAgICAgICAgICAgIGlmIChcInJlY2VpdmVyXCIgaW4gb3B0aW9ucylcbiAgICAgICAgICAgICAgICByZXR1cm4geWllbGQgdGhpcy5sZWdhY3lTaWduTWVzc2FnZShvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCBvcHRpb25zLnByb3ZpZGVyKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyksIHsgcmVxdWVzdDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInNpZ25cIixcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogb3B0aW9ucy5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICByZWNpcGllbnQ6IG9wdGlvbnMucmVjaXBpZW50LFxuICAgICAgICAgICAgICAgICAgICBub25jZTogQXJyYXkuZnJvbShvcHRpb25zLm5vbmNlKSxcbiAgICAgICAgICAgICAgICAgICAgbmV0d29yazogdGhpcy5uZXR3b3JrSWQsXG4gICAgICAgICAgICAgICAgfSB9KSk7XG4gICAgICAgICAgICBpZiAoKGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5wYXlsb2FkKSA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiU2lnbmF0dXJlIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIGNvbnN0IHsgcHVibGljS2V5LCBzaWduYXR1cmUsIGFjY291bnRJZCB9ID0gSlNPTi5wYXJzZShkYXRhLnBheWxvYWQpO1xuICAgICAgICAgICAgcmV0dXJuIHsgcHVibGljS2V5LCBzaWduYXR1cmUsIGFjY291bnRJZCB9O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGVnYWN5U2lnbk1lc3NhZ2UoX2EpIHtcbiAgICAgICAgdmFyIF9iO1xuICAgICAgICB2YXIgeyBtZXNzYWdlLCByZWNlaXZlciwgbm9uY2UgfSA9IF9hLCBkZWxlZ2F0ZSA9IF9fcmVzdChfYSwgW1wibWVzc2FnZVwiLCBcInJlY2VpdmVyXCIsIFwibm9uY2VcIl0pO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgaWYgKG5vbmNlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsZXQgbm9uY2VBcnJheSA9IG5ldyBVaW50OEFycmF5KDMyKTtcbiAgICAgICAgICAgICAgICBub25jZSA9IFsuLi5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5vbmNlQXJyYXkpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCAoKF9iID0gZGVsZWdhdGUucHJvdmlkZXIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKGRlbGVnYXRlLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRlbGVnYXRlKSwgeyByZXF1ZXN0OiB7IHR5cGU6IFwic2lnblwiLCBtZXNzYWdlLCByZWNlaXZlciwgbm9uY2UsIG5ldHdvcms6IHRoaXMubmV0d29ya0lkIH0gfSkpKTtcbiAgICAgICAgICAgIGlmICgoZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLnBheWxvYWQpID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlNpZ25hdHVyZSBub3QgZm91bmRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcHVibGljS2V5LCBzaWduYXR1cmUsIGFjY291bnRJZCB9ID0gSlNPTi5wYXJzZShkYXRhLnBheWxvYWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpZ24gPSBuZXcgVWludDhBcnJheShCdWZmZXIuZnJvbShzaWduYXR1cmUsIFwiYmFzZTY0XCIpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlLCByZWNlaXZlciwgbm9uY2UgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbXNnID0gbmV3IFVpbnQ4QXJyYXkoanNfc2hhMjU2XzEuc2hhMjU2LmRpZ2VzdChgTkVQMDQxMzpgICsganNvbikpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzVmVyaWZ5ID0ga2V5X3BhaXJfMS5QdWJsaWNLZXkuZnJvbShwdWJsaWNLZXkpLnZlcmlmeShtc2csIHNpZ24pO1xuICAgICAgICAgICAgICAgIGlmIChpc1ZlcmlmeSA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYWNjb3VudCA9IHlpZWxkIHRoaXMuYWNjb3VudChhY2NvdW50SWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleXMgPSB5aWVsZCBhY2NvdW50LmdldEFjY2Vzc0tleXMoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYiA9IHB1YmxpY0tleS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSBrZXlzLnNvbWUoKGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGsucHVibGljX2tleSAhPT0gcGIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrLmFjY2Vzc19rZXkucGVybWlzc2lvbiAhPT0gXCJGdWxsQWNjZXNzXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmU6IG5ldyBVaW50OEFycmF5KEJ1ZmZlci5mcm9tKHNpZ25hdHVyZSwgXCJiYXNlNjRcIikpLFxuICAgICAgICAgICAgICAgICAgICBwdWJsaWNLZXk6IGtleV9wYWlyXzEuUHVibGljS2V5LmZyb20ocHVibGljS2V5KSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYE5FUDA0MTM6YCArIGpzb24sXG4gICAgICAgICAgICAgICAgICAgIHJlY2VpdmVyLFxuICAgICAgICAgICAgICAgICAgICBhY2NvdW50SWQsXG4gICAgICAgICAgICAgICAgICAgIG5vbmNlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoX2MpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlNpZ25hdHVyZSBub3QgY29ycmVjdFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNpZ25BbmRTZW5kVHJhbnNhY3Rpb25zKF9hKSB7XG4gICAgICAgIHZhciBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2o7XG4gICAgICAgIHZhciB7IHRyYW5zYWN0aW9ucyB9ID0gX2EsIGRlbGVnYXRlID0gX19yZXN0KF9hLCBbXCJ0cmFuc2FjdGlvbnNcIl0pO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgZGVsZWdhdGUuc3RyYXRlZ3kgPSAoX2IgPSBkZWxlZ2F0ZS5zdHJhdGVneSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5kZWZhdWx0U3RyYXRlZ3koKTtcbiAgICAgICAgICAgIGRlbGVnYXRlLnByb3ZpZGVyID0gKF9jID0gZGVsZWdhdGUucHJvdmlkZXIpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IHRoaXMuZGVmYXVsdFByb3ZpZGVyO1xuICAgICAgICAgICAgKF9kID0gZGVsZWdhdGUub25Jbml0aWFsaXplZCkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmNhbGwoZGVsZWdhdGUpO1xuICAgICAgICAgICAgKF9mID0gKF9lID0gZGVsZWdhdGUuc3RyYXRlZ3kpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5vbkluaXRpYWxpemVkKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YuY2FsbChfZSk7XG4gICAgICAgICAgICBsZXQgcmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNhbGwgb2YgdHJhbnNhY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB5aWVsZCB0aGlzLnNpbGVudFNpZ25BbmRTZW5kVHJhbnNhY3Rpb24oY2FsbCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHJlc3VsdHMubWFwKChyZXN1bHQpID0+IHJlc3VsdC50cmFuc2FjdGlvbl9vdXRjb21lLmlkKS5qb2luKFwiLFwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdWNjZXNzID0geyBzdGF0dXM6IHByb3ZpZGVyXzEuSGVyZVByb3ZpZGVyU3RhdHVzLlNVQ0NFU1MsIHBheWxvYWQgfTtcbiAgICAgICAgICAgICAgICAoX2cgPSBkZWxlZ2F0ZS5vblN1Y2Nlc3MpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5jYWxsKGRlbGVnYXRlLCBzdWNjZXNzKTtcbiAgICAgICAgICAgICAgICAoX2ogPSAoX2ggPSBkZWxlZ2F0ZS5zdHJhdGVneSkgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLm9uU3VjY2VzcykgPT09IG51bGwgfHwgX2ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9qLmNhbGwoX2gsIHN1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBzaWxlbnQgc2lnbiByZXR1cm4gYWNjZXNzIGRlbmllZCBvciBub3QgZW5vdWdoIGJhbGFuY2Ugd2UgcmVxdWVzdCBtb2JpbGUgd2FsbGV0XG4gICAgICAgICAgICAgICAgICAgIC8vIE9SIGl0cyBqdXN0IHRyYW5zYWN0aW9uIGVycm9yXG4gICAgICAgICAgICAgICAgICAgIGlmICghKGUgaW5zdGFuY2VvZiBBY2Nlc3NEZW5pZWQpICYmIChlID09PSBudWxsIHx8IGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGUudHlwZSkgIT09IFwiTm90RW5vdWdoQWxsb3dhbmNlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCB1dGlsc18xLmludGVybmFsVGhyb3cpKGUsIGRlbGVnYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5jb21wbGV0ZWQgPSB0cmFuc2FjdGlvbnMuc2xpY2UocmVzdWx0cy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0geWllbGQgZGVsZWdhdGUucHJvdmlkZXIoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWxlZ2F0ZSksIHsgcmVxdWVzdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2FsbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uczogdW5jb21wbGV0ZWQubWFwKCh0cngpID0+IChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRyeCksIHsgYWN0aW9uczogKDAsIHV0aWxzXzEuc2VyaWFsaXplQWN0aW9ucykodHJ4LmFjdGlvbnMpIH0pKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV0d29yazogdGhpcy5uZXR3b3JrSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEucGF5bG9hZCA9PSBudWxsIHx8IGRhdGEuYWNjb3VudF9pZCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlRyYW5zYWN0aW9uIG5vdCBmb3VuZCwgYnV0IG1heWJlIGV4ZWN1dGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gZGF0YS5wYXlsb2FkLnNwbGl0KFwiLFwiKS5tYXAoKGlkKSA9PiB0aGlzLnJwYy50eFN0YXR1cyhpZCwgZGF0YS5hY2NvdW50X2lkKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB5aWVsZCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAoMCwgdXRpbHNfMS5pbnRlcm5hbFRocm93KShlcnJvciwgZGVsZWdhdGUpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuSGVyZVdhbGxldCA9IEhlcmVXYWxsZXQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD13YWxsZXQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@here-wallet+core@1.5.1_bn.js@5.2.1_borsh@0.7.0_near-api-js@2.1.4/node_modules/@here-wallet/core/build/wallet.js\n");

/***/ })

};
;